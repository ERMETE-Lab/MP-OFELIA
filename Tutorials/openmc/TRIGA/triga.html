<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TRIGA Mark II Reactor &mdash; OFELIA  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/proof.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/nbsphinx-code-cells.css" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "tags": "ams", "useLabelIds": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="PWR Pin 2D Axial Symmetry - Solution" href="../../ofelia/pin3D_PWR_steady/pin3D.html" />
    <link rel="prev" title="ANL14-A1: LRA benchmark (2D BWR) - MP coupling" href="../../fenicsx/neutronics/04_ANL14A1_MPtrans.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            OFELIA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../theory.html">Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../solvers.html">Solvers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials.html#fenicsx">FEniCSx</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../tutorials.html#openmc">OpenMC</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">TRIGA Mark II Reactor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Materials">Materials</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Geometry:-planes-and-surfaces">Geometry: planes and surfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Geometry:-cells-and-universes">Geometry: cells and universes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Plots">Plots</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Settings">Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Tallies">Tallies</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials.html#ofelia">OFELIA</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../bibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">OFELIA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../tutorials.html">Tutorials</a></li>
      <li class="breadcrumb-item active">TRIGA Mark II Reactor</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/Tutorials/openmc/TRIGA/triga.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="TRIGA-Mark-II-Reactor">
<h1>TRIGA Mark II Reactor<a class="headerlink" href="#TRIGA-Mark-II-Reactor" title="Link to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">openmc</span>

<span class="c1"># remove previous model</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;settings.xml&#39;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;rm *.xml&quot;</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;rm summary.h5&quot;</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;rm statepoint*&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="Materials">
<h2>Materials<a class="headerlink" href="#Materials" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Nomenclature for thermal libraries: https://docs.openmc.org/en/stable/_modules/openmc/data/thermal.html</span>

<span class="n">T_ref_w</span> <span class="o">=</span> <span class="mi">294</span>
<span class="n">T_ref_f</span> <span class="o">=</span> <span class="mi">294</span>
<span class="n">T_ref_struct</span> <span class="o">=</span> <span class="mi">294</span>

<span class="c1"># Water</span>
<span class="n">Water</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Water&#39;</span><span class="p">)</span>
<span class="n">Water</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span><span class="mf">0.9985</span><span class="p">)</span>
<span class="n">Water</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;H1&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">Water</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;O16&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">Water</span><span class="o">.</span><span class="n">add_s_alpha_beta</span><span class="p">(</span><span class="s1">&#39;c_H_in_H2O&#39;</span><span class="p">)</span>
<span class="n">Water</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">T_ref_w</span> <span class="c1"># (K)</span>

<span class="c1"># Fuel 101 @ Pavia</span>
<span class="n">Fuel101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Fuel 101&#39;</span><span class="p">)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span> <span class="mf">6.3</span><span class="p">)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;U235&#39;</span><span class="p">,</span> <span class="mf">1.58</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;U238&#39;</span><span class="p">,</span> <span class="mf">6.42</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;H1&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr90&#39;</span><span class="p">,</span> <span class="mf">46.1</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr91&#39;</span><span class="p">,</span> <span class="mf">10.2</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr92&#39;</span><span class="p">,</span> <span class="mf">15.7</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr94&#39;</span><span class="p">,</span> <span class="mf">16.3</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr96&#39;</span><span class="p">,</span> <span class="mf">2.68</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">add_s_alpha_beta</span><span class="p">(</span><span class="s1">&#39;c_H_in_ZrH&#39;</span><span class="p">)</span>
<span class="c1">#Fuel101.add_s_alpha_beta(&#39;c_Zr_in_ZrH&#39;)</span>
<span class="n">Fuel101</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">T_ref_f</span>

<span class="c1"># Fuel 103 @ Pavia</span>
<span class="n">Fuel103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Fuel 103&#39;</span><span class="p">)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span> <span class="mf">5.95</span><span class="p">)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;U235&#39;</span><span class="p">,</span> <span class="mf">1.58</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;U238&#39;</span><span class="p">,</span> <span class="mf">6.42</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;H1&#39;</span><span class="p">,</span> <span class="mf">1.59</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr90&#39;</span><span class="p">,</span> <span class="mf">45.8</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr91&#39;</span><span class="p">,</span> <span class="mf">10.1</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr92&#39;</span><span class="p">,</span> <span class="mf">15.6</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr94&#39;</span><span class="p">,</span> <span class="mf">16.2</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr96&#39;</span><span class="p">,</span> <span class="mf">2.66</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">add_s_alpha_beta</span><span class="p">(</span><span class="s1">&#39;c_H_in_ZrH&#39;</span><span class="p">)</span>
<span class="c1">#Fuel103.add_s_alpha_beta(&#39;c_Zr_in_ZrH&#39;)</span>
<span class="n">Fuel103</span><span class="o">.</span><span class="n">temperature</span><span class="o">=</span> <span class="n">T_ref_f</span>

<span class="c1"># Graphite</span>
<span class="n">Graphite</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Graphite&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span> <span class="mf">1.675</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Fe54&#39;</span><span class="p">,</span> <span class="mf">0.00045164</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Fe56&#39;</span><span class="p">,</span> <span class="mf">0.00735212</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Fe57&#39;</span><span class="p">,</span> <span class="mf">0.00017283</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Fe58&#39;</span><span class="p">,</span> <span class="mf">0.00002340</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;O16&#39;</span><span class="p">,</span> <span class="mf">0.0013</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Ti46&#39;</span><span class="p">,</span> <span class="mf">7.92E-05</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Ti47&#39;</span><span class="p">,</span> <span class="mf">7.30E-05</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Ti48&#39;</span><span class="p">,</span> <span class="mf">7.38E-04</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Ti49&#39;</span><span class="p">,</span> <span class="mf">5.53E-05</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Ti50&#39;</span><span class="p">,</span> <span class="mf">5.40E-05</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Na23&#39;</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Mg24&#39;</span><span class="p">,</span> <span class="mf">7.795E-05</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Mg25&#39;</span><span class="p">,</span> <span class="mf">1.028E-05</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Mg26&#39;</span><span class="p">,</span> <span class="mf">1.177E-05</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cu63&#39;</span><span class="p">,</span> <span class="mf">6.85E-04</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cu65&#39;</span><span class="p">,</span> <span class="mf">3.15E-04</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Co59&#39;</span><span class="p">,</span> <span class="mf">0.00005</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;H1&#39;</span><span class="p">,</span> <span class="mf">0.000037</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;F19&#39;</span><span class="p">,</span> <span class="mf">0.000025</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="s1">&#39;Cl&#39;</span><span class="p">,</span> <span class="mf">0.000025</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;B11&#39;</span><span class="p">,</span> <span class="mf">0.0000005</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">add_s_alpha_beta</span><span class="p">(</span><span class="s1">&#39;c_Graphite&#39;</span><span class="p">)</span>
<span class="n">Graphite</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">T_ref_struct</span>

<span class="c1"># Cladding Al (from Chiesa PhD Thesis)</span>
<span class="n">CladdingAl</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Cladding Al&#39;</span><span class="p">)</span>
<span class="n">CladdingAl</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span> <span class="p">,</span> <span class="mf">2.713</span><span class="p">)</span>
<span class="n">CladdingAl</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Al27&#39;</span><span class="p">,</span> <span class="mf">0.9957</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingAl</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cu63&#39;</span><span class="p">,</span> <span class="mf">0.0006917</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingAl</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cu65&#39;</span><span class="p">,</span> <span class="mf">0.0003083</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingAl</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">T_ref_struct</span>

<span class="c1"># Cladding SS</span>
<span class="n">CladdingSS</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Cladding SS&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span> <span class="p">,</span> <span class="mf">8.03</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Fe54&#39;</span> <span class="p">,</span> <span class="mf">0.039980</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Fe56&#39;</span> <span class="p">,</span> <span class="mf">0.650820</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Fe57&#39;</span> <span class="p">,</span> <span class="mf">0.015299</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Fe58&#39;</span> <span class="p">,</span> <span class="mf">0.002072</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cr50&#39;</span> <span class="p">,</span> <span class="mf">7.72E-03</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cr52&#39;</span> <span class="p">,</span> <span class="mf">1.49E-01</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cr53&#39;</span> <span class="p">,</span> <span class="mf">1.69E-02</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cr54&#39;</span> <span class="p">,</span> <span class="mf">4.19E-03</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Ni58&#39;</span> <span class="p">,</span> <span class="mf">7.42E-02</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Ni60&#39;</span> <span class="p">,</span> <span class="mf">2.86E-02</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Ni61&#39;</span> <span class="p">,</span> <span class="mf">1.24E-03</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Ni62&#39;</span> <span class="p">,</span> <span class="mf">3.95E-03</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Ni64&#39;</span> <span class="p">,</span> <span class="mf">1.01E-03</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Si28&#39;</span> <span class="p">,</span> <span class="mf">5.02E-03</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Si29&#39;</span> <span class="p">,</span> <span class="mf">2.55E-04</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Si30&#39;</span> <span class="p">,</span> <span class="mf">1.68E-04</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingSS</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">T_ref_struct</span>

<span class="c1"># Cladding for Control Rods (Aluminum)</span>
<span class="n">CladdingCR</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Cladding CR&#39;</span><span class="p">)</span>
<span class="n">CladdingCR</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span> <span class="p">,</span> <span class="mf">2.71</span><span class="p">)</span>
<span class="n">CladdingCR</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Al27&#39;</span><span class="p">,</span> <span class="mf">0.9795</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingCR</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cu63&#39;</span><span class="p">,</span> <span class="mf">0.00172925</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingCR</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cu65&#39;</span><span class="p">,</span> <span class="mf">0.00077075</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingCR</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Cr52&#39;</span><span class="p">,</span> <span class="mf">0.0020</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingCR</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Mg24&#39;</span> <span class="p">,</span> <span class="mf">7.80E-03</span> <span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingCR</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Mg25&#39;</span> <span class="p">,</span> <span class="mf">1.03E-03</span> <span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingCR</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Mg26&#39;</span> <span class="p">,</span> <span class="mf">1.18E-03</span> <span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingCR</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Si28&#39;</span><span class="p">,</span> <span class="mf">0.006</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">CladdingCR</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">T_ref_struct</span>

<span class="c1"># Zirconium thin rod</span>
<span class="n">Zirconium</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Zirconium&#39;</span><span class="p">)</span>
<span class="n">Zirconium</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span> <span class="mf">6.52</span><span class="p">)</span>
<span class="n">Zirconium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr90&#39;</span><span class="p">,</span> <span class="mf">0.5145</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">Zirconium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr91&#39;</span><span class="p">,</span> <span class="mf">0.1122</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">Zirconium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr92&#39;</span><span class="p">,</span> <span class="mf">0.1715</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">Zirconium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr94&#39;</span><span class="p">,</span> <span class="mf">0.1738</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">Zirconium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Zr96&#39;</span><span class="p">,</span> <span class="mf">0.028</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">Zirconium</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">T_ref_f</span>

<span class="c1"># Poison disk</span>
<span class="n">Samarium</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sm poison disk&#39;</span><span class="p">)</span>
<span class="n">Samarium</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span> <span class="mf">2.4203</span><span class="p">)</span>
<span class="n">Samarium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Sm147&#39;</span><span class="p">,</span> <span class="mf">0.001035</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Samarium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Sm148&#39;</span><span class="p">,</span> <span class="mf">0.000782</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Samarium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Sm149&#39;</span><span class="p">,</span> <span class="mf">0.000968</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Samarium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Sm150&#39;</span><span class="p">,</span> <span class="mf">0.000520</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Samarium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Sm152&#39;</span><span class="p">,</span> <span class="mf">0.001911</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Samarium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Sm154&#39;</span><span class="p">,</span> <span class="mf">0.001647</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Samarium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;O16&#39;</span><span class="p">,</span> <span class="mf">0.468019</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Samarium</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Al27&#39;</span><span class="p">,</span> <span class="mf">0.524910</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Samarium</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">T_ref_f</span>

<span class="c1"># Vacuum</span>
<span class="n">Vacuum</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Vacuum&#39;</span><span class="p">)</span>
<span class="n">Vacuum</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span> <span class="mf">0.0012041</span><span class="p">)</span>
<span class="n">Vacuum</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mf">0.000125</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Vacuum</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;N14&#39;</span><span class="p">,</span> <span class="mf">0.6869</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Vacuum</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;O16&#39;</span><span class="p">,</span> <span class="mf">0.301248</span><span class="p">,</span> <span class="s1">&#39;wo&#39;</span><span class="p">)</span>
<span class="n">Vacuum</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mi">294</span>

<span class="c1"># SHIM - REG</span>
<span class="n">ControlRodB4C</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Control rods (SHIM, REG)&#39;</span><span class="p">)</span>
<span class="n">ControlRodB4C</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span> <span class="p">,</span> <span class="mf">2.52</span><span class="p">)</span>
<span class="n">ControlRodB4C</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;B11&#39;</span> <span class="p">,</span> <span class="mf">64.2</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">ControlRodB4C</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;B10&#39;</span> <span class="p">,</span> <span class="mf">15.8</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">ControlRodB4C</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="s1">&#39;C&#39;</span> <span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">ControlRodB4C</span><span class="o">.</span><span class="n">add_s_alpha_beta</span><span class="p">(</span><span class="s1">&#39;c_Graphite&#39;</span><span class="p">)</span>
<span class="n">ControlRodB4C</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">T_ref_struct</span>

<span class="c1"># TRANS</span>
<span class="n">ControlRodBorated</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Control rods (TRANS)&#39;</span><span class="p">)</span>
<span class="n">ControlRodBorated</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span> <span class="p">,</span> <span class="mf">2.23</span><span class="p">)</span>
<span class="n">ControlRodBorated</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;B11&#39;</span> <span class="p">,</span> <span class="mf">21.7</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">ControlRodBorated</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;B10&#39;</span> <span class="p">,</span> <span class="mf">5.35</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">ControlRodBorated</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="s1">&#39;C&#39;</span> <span class="p">,</span> <span class="mf">72.3</span><span class="p">,</span> <span class="s1">&#39;ao&#39;</span><span class="p">)</span>
<span class="n">ControlRodBorated</span><span class="o">.</span><span class="n">add_s_alpha_beta</span><span class="p">(</span><span class="s1">&#39;c_Graphite&#39;</span><span class="p">)</span>
<span class="n">ControlRodBorated</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">T_ref_struct</span>


<span class="c1"># Instantiate a Materials collection and export to xml</span>
<span class="n">materials_file</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Materials</span><span class="p">([</span><span class="n">CladdingAl</span><span class="p">,</span> <span class="n">CladdingSS</span><span class="p">,</span> <span class="n">CladdingCR</span><span class="p">,</span> <span class="n">Graphite</span><span class="p">,</span> <span class="n">Fuel101</span><span class="p">,</span> <span class="n">Fuel103</span><span class="p">,</span> <span class="n">Water</span><span class="p">,</span> <span class="n">Vacuum</span><span class="p">,</span> <span class="n">ControlRodB4C</span><span class="p">,</span> <span class="n">ControlRodBorated</span><span class="p">,</span> <span class="n">Samarium</span><span class="p">,</span> <span class="n">Zirconium</span> <span class="p">])</span>
<br/></pre></div>
</div>
</div>
</section>
<section id="Geometry:-planes-and-surfaces">
<h2>Geometry: planes and surfaces<a class="headerlink" href="#Geometry:-planes-and-surfaces" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Control rod position: 0 = all in, 47 = all out</span>
<span class="n">z0_reg_value</span> <span class="o">=</span> <span class="mi">45</span> <span class="c1"># cm</span>
<span class="n">z0_shim_value</span> <span class="o">=</span> <span class="mi">45</span> <span class="c1"># cm</span>
<span class="n">z0_trans_value</span> <span class="o">=</span> <span class="mi">45</span> <span class="c1"># cm</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Planes, cylinders and stuff</span>

<span class="n">r_fuel_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.791</span><span class="p">)</span> <span class="c1">#fuel radius</span>
<span class="n">r_clad_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.88</span><span class="p">)</span>  <span class="c1">#cladding radius</span>
<span class="n">bot_active_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">10.20</span><span class="p">)</span> <span class="c1">#start active region 101</span>
<span class="n">top_active_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">45.76</span><span class="p">)</span> <span class="c1">#end active region 101</span>
<span class="n">Sm_bot_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">10.07</span><span class="p">)</span> <span class="c1"># samarium disk bot end</span>
<span class="n">Sm_top_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">45.89</span><span class="p">)</span> <span class="c1"># samarium disk top end</span>
<span class="n">reflector_bot_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#bottom 101 reflector</span>
<span class="n">reflector_top_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">55.83</span><span class="p">)</span> <span class="c1">#top 101 reflector</span>
<span class="n">clad_bot_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=-</span><span class="mf">1.27</span><span class="p">)</span> <span class="c1">#end bottom cladding 101</span>
<span class="n">clad_top_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">57.1</span><span class="p">)</span> <span class="c1">#end top cladding 101</span>
<span class="n">plug_top_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">64.26</span><span class="p">)</span> <span class="c1">#end plug 101</span>
<span class="n">plug_radius_101</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.395</span><span class="p">)</span>


<span class="c1"># Geometry definitions for the Fuel Rod 103</span>
<span class="n">r_fuel_inner_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.285</span><span class="p">)</span> <span class="c1">#fuel radius</span>
<span class="n">r_fuel_outer_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.82</span><span class="p">)</span> <span class="c1">#fuel radius</span>
<span class="n">r_clad_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.88</span><span class="p">)</span>  <span class="c1">#cladding radius</span>
<span class="n">bot_active_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">8.81</span><span class="p">)</span> <span class="c1">#start active region 103</span>
<span class="n">top_active_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">46.91</span><span class="p">)</span> <span class="c1">#end active region 103</span>
<span class="n">reflector_bot_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#bottom 103 reflector</span>
<span class="n">reflector_top_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">55.65</span><span class="p">)</span> <span class="c1">#top 103 reflector</span>
<span class="n">clad_bot_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=-</span><span class="mf">1.39</span><span class="p">)</span> <span class="c1">#end bottom cladding 103</span>
<span class="n">clad_top_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">57.31</span><span class="p">)</span> <span class="c1">#end top cladding 103</span>
<span class="n">plug_top_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">64.47</span><span class="p">)</span> <span class="c1">#end plug 103</span>
<span class="n">plug_radius_103</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.395</span><span class="p">)</span>

<span class="c1"># Geometry for dummy element (graphite)</span>
<span class="n">r_dummy_graphite</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.791</span><span class="p">)</span>
<span class="n">r_dummy_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.88</span><span class="p">)</span>
<span class="n">dummy_bot</span> <span class="o">=</span>  <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#bottom 101 reflector</span>
<span class="n">dummy_top</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">55.83</span><span class="p">)</span> <span class="c1">#top 101 reflector</span>
<span class="n">dummy_bot_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=-</span><span class="mf">1.27</span><span class="p">)</span> <span class="c1">#end bottom cladding 101</span>
<span class="n">dummy_top_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">57.1</span><span class="p">)</span> <span class="c1">#end top cladding 101</span>

<span class="c1"># Geometry for central channel (with Al case for void feedback measurements)</span>
<span class="n">r_central_channel</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.69</span><span class="p">)</span>
<span class="n">r_central_channel_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.905</span><span class="p">)</span>

<span class="n">r_Al_out</span> <span class="o">=</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span> <span class="c1"># (cm)</span>
<span class="n">r_Al_in</span> <span class="o">=</span> <span class="mf">2.4</span><span class="o">/</span><span class="mi">2</span> <span class="c1"># (cm)</span>
<span class="n">l_Al_out</span> <span class="o">=</span> <span class="mi">28</span> <span class="c1"># (cm)</span>
<span class="n">l_Al_in</span> <span class="o">=</span> <span class="mf">26.5258238</span> <span class="c1"># (cm)</span>
<span class="n">midplane</span> <span class="o">=</span> <span class="mf">27.86</span>
<span class="n">plane_mat_separation</span> <span class="o">=</span> <span class="n">l_Al_in</span> <span class="o">-</span> <span class="mf">0.01</span>

<span class="n">s_void_r_out</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span> <span class="o">=</span> <span class="n">r_Al_out</span><span class="p">)</span>
<span class="n">s_void_r_in</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span> <span class="o">=</span> <span class="n">r_Al_in</span><span class="p">)</span>
<span class="n">s_void_bot_in</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span> <span class="o">=</span> <span class="n">midplane</span> <span class="o">-</span> <span class="n">l_Al_in</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">s_void_bot_out</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span> <span class="o">=</span> <span class="n">midplane</span> <span class="o">-</span> <span class="n">l_Al_out</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">s_void_sep</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span> <span class="o">=</span> <span class="n">midplane</span> <span class="o">-</span> <span class="n">l_Al_in</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">plane_mat_separation</span><span class="p">)</span>
<span class="n">s_void_top_in</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span> <span class="o">=</span> <span class="n">midplane</span> <span class="o">+</span> <span class="n">l_Al_in</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">s_void_top_out</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span> <span class="o">=</span> <span class="n">midplane</span> <span class="o">+</span> <span class="n">l_Al_out</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Geometry for rabbit channel</span>
<span class="n">r_rabbit_inner</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.804</span><span class="p">)</span>
<span class="n">r_rabbit_outer</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.88</span><span class="p">)</span>

<span class="c1"># Geometry for source</span>
<span class="n">r_source</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.88</span><span class="p">)</span>

<span class="c1"># Geometry for SHIM</span>
<span class="n">r_shim_inner</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.425</span><span class="p">)</span>
<span class="n">r_shim_outer</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.59</span><span class="p">)</span>
<span class="n">r_shim_bot_plug</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.795</span><span class="p">)</span>

<span class="c1"># Geometry for REG</span>
<span class="n">r_reg_inner</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.965</span><span class="p">)</span>
<span class="n">r_reg_outer</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.11</span><span class="p">)</span>
<span class="n">r_reg_bot_plug</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.555</span><span class="p">)</span>

<span class="c1"># Geometry for TRANS</span>
<span class="n">r_trans_inner</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.105</span><span class="p">)</span>
<span class="n">r_trans_outer</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">1.27</span><span class="p">)</span>
<span class="n">r_trans_bot_plug</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.635</span><span class="p">)</span>

<span class="c1"># CR heigths: length=45.47 cm, the starting position is zero.</span>
<span class="c1">#             I define three quantities, z_reg, z_shim and z_trans</span>
<span class="c1">#             such that they can be moved</span>

<span class="c1"># CR position from their 0</span>
<span class="n">z0_reg</span><span class="o">=</span> <span class="n">z0_reg_value</span>
<span class="n">z0_shim</span> <span class="o">=</span> <span class="n">z0_shim_value</span>
<span class="n">z0_trans</span> <span class="o">=</span> <span class="n">z0_trans_value</span>

<span class="c1"># CALIBRAZIONE: cambiare le altezze delle barre di controllo per calcolare il k</span>
<span class="c1">#               (0 = rod tutta inserita, )</span>
<span class="c1"># valori reg:  0.27 , 4.57 , 9.85 , 13.77, 17.69, 21.55, 24.77, 27.21, 38.1</span>
<span class="c1"># valori shim: 19.92, 19.92, 19.38, 18.45, 16.93, 15.51, 13.93, 12.74, 11.81</span>
<span class="c1"># valori trans: sempre estratta</span>

<span class="c1"># Model offset (z=+10.4 means that the rod is &#39;all in&#39;)</span>
<span class="n">offset</span><span class="o">=</span> <span class="mf">10.40</span>

<span class="n">z0_reg</span> <span class="o">=</span> <span class="n">z0_reg</span> <span class="o">+</span> <span class="n">offset</span>
<span class="n">z0_shim</span> <span class="o">=</span> <span class="n">z0_shim</span> <span class="o">+</span> <span class="n">offset</span>
<span class="n">z0_trans</span> <span class="o">=</span> <span class="n">z0_trans</span> <span class="o">+</span> <span class="n">offset</span>

<span class="n">bot_reg</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_reg</span><span class="p">)</span> <span class="c1">#plane for the bottom reg</span>
<span class="n">bot_shim</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_shim</span><span class="p">)</span> <span class="c1">#plane for the bottom shim</span>
<span class="n">bot_trans</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_trans</span><span class="p">)</span> <span class="c1">#plane for the bottom trans</span>

<span class="n">bot_reg_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_reg</span><span class="o">-</span><span class="mf">0.8</span><span class="p">)</span> <span class="c1">#plane for the bottom clad</span>
<span class="n">bot_shim_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_shim</span><span class="o">-</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">bot_trans_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_trans</span><span class="o">-</span><span class="mf">0.8</span><span class="p">)</span>

<span class="n">bot_reg_plug</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span> <span class="n">z0_reg</span> <span class="o">-</span><span class="mf">1.6</span><span class="p">)</span> <span class="c1">#plane for the bottom of plug</span>
<span class="n">bot_shim_plug</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span> <span class="n">z0_shim</span> <span class="o">-</span><span class="mf">1.6</span><span class="p">)</span>
<span class="n">bot_trans_plug</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span> <span class="n">z0_trans</span> <span class="o">-</span><span class="mf">1.6</span><span class="p">)</span>

<span class="n">top_reg</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_reg</span><span class="o">+</span><span class="mf">45.47</span><span class="p">)</span> <span class="c1">#plane for the bottom reg</span>
<span class="n">top_shim</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_shim</span><span class="o">+</span><span class="mf">45.47</span><span class="p">)</span> <span class="c1">#plane for the bottom shim</span>
<span class="n">top_trans</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_trans</span><span class="o">+</span><span class="mf">45.47</span><span class="p">)</span> <span class="c1">#plane for the bottom trans</span>

<span class="c1">#top plug has width of 2.54 cm</span>
<span class="n">top_clad_reg</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_reg</span><span class="o">+</span><span class="mf">45.47</span><span class="o">+</span><span class="mf">2.54</span><span class="p">)</span>
<span class="n">top_clad_shim</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_shim</span><span class="o">+</span><span class="mf">45.47</span><span class="o">+</span><span class="mf">2.54</span><span class="p">)</span>
<span class="n">top_clad_trans</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="n">z0_trans</span><span class="o">+</span><span class="mf">45.47</span><span class="o">+</span><span class="mf">2.54</span><span class="p">)</span>

<span class="n">top_CR</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">45.47</span><span class="p">)</span> <span class="c1">#control rod length from 0</span>
<span class="n">start_position_CR</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#zero position for CR</span>

<span class="c1"># Reflector dimensions planes</span>
<span class="n">bot_reflector</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">1.27</span><span class="p">)</span> <span class="c1">#start of side reflector</span>
<span class="n">top_reflector</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">57.17</span><span class="p">)</span> <span class="c1">#end of side reflector</span>

<span class="n">bot_clad_reflector</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span> <span class="c1">#start of side reflector&#39;s clad</span>
<span class="n">top_clad_reflector</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">59.04</span><span class="p">)</span> <span class="c1">#end of side reflector&#39;s clad</span>

<span class="c1">#Grid at the top of the core</span>
<span class="n">top_grid_bot</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">59.04</span><span class="p">)</span>
<span class="n">top_grid_top</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">60.94</span><span class="p">)</span>

<span class="c1"># Grid at the bottom of core</span>
<span class="n">bottom_grid_bot</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=-</span><span class="mf">6.995</span><span class="p">)</span>
<span class="n">bottom_grid_top</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=-</span><span class="mf">5.05</span><span class="p">)</span> <span class="c1"># true</span>


<span class="c1"># Void in reflector (lazy susan)</span>
<span class="n">refl_void_inner</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">30.5</span><span class="p">)</span>
<span class="n">refl_void_outer</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mi">37</span><span class="p">)</span>
<span class="n">refl_void_b</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">31.35</span><span class="p">)</span>

<span class="c1">#IRRADIATION CHANNELS</span>
<span class="c1">#--&gt; Since OpenMC treat badly rotations, the channels&#39; eqns have been defined as quadric (matlab script)</span>
<span class="c1">#    Also, a discriminator plane need to be defined since the cylinder is bi-directional.</span>
<span class="c1">#    Finally, a &quot;filling&quot; graphite region need to be defined to fill the water gap.</span>

<span class="n">channel_1_discriminator</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">YPlane</span><span class="p">(</span><span class="n">y0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">channel_1_inner</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Quadric</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mf">0.9963</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">0.0037</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">d</span><span class="o">=-</span><span class="mf">0.1213</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="o">=-</span><span class="mf">42.7</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mf">396.5325</span><span class="p">)</span>
<span class="n">channel_1_outer</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Quadric</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mf">0.9963</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">0.0037</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">d</span><span class="o">=-</span><span class="mf">0.1213</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="o">=-</span><span class="mf">42.7</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mf">385.2625</span><span class="p">)</span>

<span class="n">channel_2_discriminator</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">YPlane</span><span class="p">(</span><span class="n">y0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">channel_2_inner</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Quadric</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">361</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">739.5735</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mf">1100.6</span><span class="p">,</span> <span class="n">d</span><span class="o">=-</span><span class="mf">1033.4</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="o">=-</span><span class="mi">46994</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mf">436413.1471</span><span class="p">)</span>
<span class="n">channel_2_outer</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Quadric</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">361</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">739.5735</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mf">1100.6</span><span class="p">,</span> <span class="n">d</span><span class="o">=-</span><span class="mf">1033.4</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="o">=-</span><span class="mi">46994</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mf">424009.68</span><span class="p">)</span>

<span class="n">channel_3_discriminator</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plane</span><span class="p">(</span><span class="n">a</span><span class="o">=-</span><span class="mi">19</span><span class="p">,</span> <span class="n">b</span><span class="o">=+</span><span class="mf">27.195</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#3D plane which cut in half channel 2</span>
<span class="n">channel_3_inner</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Quadric</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mf">67.1597</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">4.7337</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mf">71.8933</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">35.6602</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mf">4330.4</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mf">1149.7</span><span class="p">,</span> <span class="n">j</span><span class="o">=-</span><span class="mf">3069.8</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">98312</span><span class="p">,</span> <span class="n">boundary_type</span> <span class="o">=</span> <span class="s2">&quot;transmission&quot;</span><span class="p">)</span>
<span class="n">channel_3_outer</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Quadric</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mf">67.1597</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">4.7337</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mf">71.8933</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">35.6602</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mf">4330.4</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mf">1149.7</span><span class="p">,</span> <span class="n">j</span><span class="o">=-</span><span class="mf">3069.8</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">97502</span><span class="p">,</span> <span class="n">boundary_type</span> <span class="o">=</span> <span class="s2">&quot;transmission&quot;</span><span class="p">)</span>


<span class="c1"># Core delimitations</span>
<span class="n">core_radius</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">22.3</span><span class="p">,</span> <span class="n">boundary_type</span> <span class="o">=</span> <span class="s1">&#39;transmission&#39;</span><span class="p">)</span> <span class="c1">#true</span>
<span class="n">inner_radius_reflector</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">23.15</span><span class="p">)</span>
<span class="n">outer_radius_reflector</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">53.35</span><span class="p">)</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">54.62</span><span class="p">,</span> <span class="n">boundary_type</span><span class="o">=</span><span class="s1">&#39;vacuum&#39;</span><span class="p">)</span> <span class="c1">#cylindrical surface delimiting the core</span>
<span class="n">end_domain_top</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=</span><span class="mf">125.7</span><span class="p">,</span> <span class="n">boundary_type</span><span class="o">=</span><span class="s1">&#39;vacuum&#39;</span><span class="p">)</span>
<span class="n">end_domain_bot</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=-</span><span class="mi">50</span><span class="p">,</span> <span class="n">boundary_type</span><span class="o">=</span><span class="s1">&#39;vacuum&#39;</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
</section>
<section id="Geometry:-cells-and-universes">
<h2>Geometry: cells and universes<a class="headerlink" href="#Geometry:-cells-and-universes" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Inline plot</span>

<span class="n">inline_plot</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">cellid</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fuel element 101</span>
<span class="n">fuel_101_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;UZrH Fuel 101 Universe&#39;</span><span class="p">)</span>

<span class="n">fuel_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Fuel 101&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">fuel_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Fuel101</span>
<span class="n">fuel_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_fuel_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_active_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_active_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">sm_top_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sm disk top 101&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">sm_top_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Samarium</span>
<span class="n">sm_top_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_fuel_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_active_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">Sm_top_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">graphite_top_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;graphite top 101&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">graphite_top_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">graphite_top_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_fuel_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">Sm_top_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">reflector_top_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">sm_bot_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sm disk bot 101&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">sm_bot_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Samarium</span>
<span class="n">sm_bot_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_fuel_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">Sm_bot_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_active_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">graphite_bot_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;graphite bot 101&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">graphite_bot_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">graphite_bot_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_fuel_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">reflector_bot_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">Sm_bot_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">clad_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Al Cladding&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">clad_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingAl</span>
<span class="n">clad_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">r_fuel_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">reflector_bot_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">reflector_top_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">clad_top_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Al Cladding top&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">clad_top_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingAl</span>
<span class="n">clad_top_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">reflector_top_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">clad_top_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">clad_bot_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Al Cladding bot&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">clad_bot_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingAl</span>
<span class="n">clad_bot_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">clad_bot_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">reflector_bot_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plug_top_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;top plug&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">plug_top_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingAl</span>
<span class="n">plug_top_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">plug_radius_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">clad_top_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">plug_top_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plug_bot_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;bot plug&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">plug_bot_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingAl</span>
<span class="n">plug_bot_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">plug_radius_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_top</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">clad_bot_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plug_w_101_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;top plug water&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">plug_w_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">plug_w_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">plug_radius_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">r_clad_101</span> <span class="o">&amp;+</span><span class="n">clad_top_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">plug_top_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">water_top_fuel_101_cell</span><span class="o">=</span><span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">water_top_fuel_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">water_top_fuel_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">plug_top_101</span> <span class="o">&amp;-</span><span class="n">end_domain_top</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">water_bot_fuel_101_cell</span><span class="o">=</span><span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">water_bot_fuel_101_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">water_bot_fuel_101_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">end_domain_bot</span> <span class="o">&amp;-</span><span class="n">clad_bot_101</span>


<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">fuel_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">sm_top_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">graphite_top_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">sm_bot_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">graphite_bot_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">clad_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">clad_top_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">clad_bot_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">plug_top_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">plug_bot_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">plug_w_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">water_top_fuel_101_cell</span><span class="p">)</span>
<span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">water_bot_fuel_101_cell</span><span class="p">)</span>

<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">fuel_101_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">27</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">70.0</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xz&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fuel element 103</span>
<span class="n">fuel_103_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;UZrH Fuel 103 Universe&#39;</span><span class="p">)</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">Zr_rod_103_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Zr thin rod&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">Zr_rod_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Zirconium</span>
<span class="n">Zr_rod_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_fuel_inner_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_active_103</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_active_103</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">fuel_103_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Fuel 103&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">fuel_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Fuel103</span>
<span class="n">fuel_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_fuel_outer_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">r_fuel_inner_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_active_103</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_active_103</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">graphite_top_103_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;graphite top 103&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">graphite_top_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">graphite_top_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_fuel_outer_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_active_103</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">reflector_top_103</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">graphite_bot_103_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;graphite bot 103&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">graphite_bot_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">graphite_bot_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_fuel_outer_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">reflector_bot_103</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_active_103</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">clad_103_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SS Cladding 103&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">clad_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingSS</span>
<span class="n">clad_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">r_fuel_outer_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">reflector_bot_103</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">reflector_top_103</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">clad_top_103_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SS Cladding top 103&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">clad_top_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingSS</span>
<span class="n">clad_top_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">reflector_top_103</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">clad_top_103</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">clad_bot_103_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SS Cladding bot 103&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">clad_bot_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingSS</span>
<span class="n">clad_bot_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">clad_bot_103</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">reflector_bot_103</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plug_top_103_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;top plug 103&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">plug_top_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingSS</span>
<span class="n">plug_top_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">plug_radius_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">clad_top_103</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">plug_top_103</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plug_bot_103_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;bot plug 103&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">plug_bot_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingSS</span>
<span class="n">plug_bot_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">plug_radius_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_top</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">clad_bot_103</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plug_w_103_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;top plug water 103&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">plug_w_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">plug_w_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">plug_radius_103</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;+</span><span class="n">clad_top_103</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">plug_top_103</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">water_top_fuel_103_cell</span><span class="o">=</span><span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">water_top_fuel_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">water_top_fuel_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">plug_top_103</span> <span class="o">&amp;-</span><span class="n">end_domain_top</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">water_bot_fuel_103_cell</span><span class="o">=</span><span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">water_bot_fuel_103_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">water_bot_fuel_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">plug_bot_103_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">end_domain_bot</span> <span class="o">&amp;-</span><span class="n">clad_bot_103</span>


<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">Zr_rod_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">fuel_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">graphite_top_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">graphite_bot_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">clad_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">clad_top_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">clad_bot_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">plug_bot_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">plug_top_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">plug_w_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">water_top_fuel_103_cell</span><span class="p">)</span>
<span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">water_bot_fuel_103_cell</span><span class="p">)</span>

<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">fuel_103_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">27</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">70.0</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xz&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Central Channel</span>

<span class="c1"># Condition for filling the Al case for void feedback measurements. If void_water = True, fill the case with water. Else, air</span>
<span class="n">void_water</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">if</span> <span class="n">void_water</span><span class="p">:</span>
    <span class="n">FillingMaterial</span> <span class="o">=</span> <span class="n">Water</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">FillingMaterial</span> <span class="o">=</span> <span class="n">Vacuum</span>

<span class="n">central_channel_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;CC Universe&#39;</span><span class="p">)</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">central_channel_water</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;CC water below&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">central_channel_water</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">central_channel_water</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_central_channel_clad</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">end_domain_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bottom_grid_bot</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">central_channel_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;CC clad&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">central_channel_clad</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingAl</span>
<span class="n">central_channel_clad</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">r_central_channel</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">r_central_channel_clad</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">central_channel_bot_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;CC bot&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">central_channel_bot_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Vacuum</span>
<span class="n">central_channel_bot_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_central_channel</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s_void_bot_out</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">central_channel_top_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;CC top&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">central_channel_top_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Vacuum</span>
<span class="n">central_channel_top_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_central_channel</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">s_void_top_out</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span>


<span class="c1"># 6 celle per il barilotto di void:</span>
<span class="c1">#0. and 1.  = inner part, top and bottom, 2.  = lateral clad, 3. and 4.  = clad, top and bottom, 5. = lateral void</span>
<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">void_cc_0</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;void cc inner bot&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">void_cc_0</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">FillingMaterial</span>
<span class="n">void_cc_0</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">s_void_r_in</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">s_void_bot_in</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s_void_sep</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">void_cc_1</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;void cc inner top&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">void_cc_1</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Vacuum</span>
<span class="n">void_cc_1</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">s_void_r_in</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">s_void_sep</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s_void_top_in</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">void_cc_2</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;void lateral clad&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">void_cc_2</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingAl</span>
<span class="n">void_cc_2</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">s_void_r_in</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s_void_r_out</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">s_void_bot_in</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s_void_top_in</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">void_cc_3</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;void bot clad&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">void_cc_3</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingAl</span>
<span class="n">void_cc_3</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">s_void_bot_out</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s_void_bot_in</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s_void_r_out</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">void_cc_4</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;void top vlad&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">void_cc_4</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingAl</span>
<span class="n">void_cc_4</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">s_void_top_in</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s_void_top_out</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s_void_r_out</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">void_cc_5</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;void lateral vacuum&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">void_cc_5</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Vacuum</span>
<span class="n">void_cc_5</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">s_void_bot_out</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s_void_top_out</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">s_void_r_out</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">r_central_channel</span>


<span class="n">central_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">central_channel_bot_cell</span><span class="p">)</span>
<span class="n">central_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">central_channel_top_cell</span><span class="p">)</span>
<span class="n">central_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">central_channel_clad</span><span class="p">)</span>
<span class="n">central_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">central_channel_water</span><span class="p">)</span>
<span class="n">central_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">void_cc_0</span><span class="p">)</span>
<span class="n">central_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">void_cc_1</span><span class="p">)</span>
<span class="n">central_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">void_cc_2</span><span class="p">)</span>
<span class="n">central_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">void_cc_3</span><span class="p">)</span>
<span class="n">central_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">void_cc_4</span><span class="p">)</span>
<span class="n">central_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">void_cc_5</span><span class="p">)</span>


<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">central_channel_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">27</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xz&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># TRANS rod</span>
<span class="n">transient_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRANS Universe&#39;</span><span class="p">)</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">TRANS_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRANS Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">TRANS_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">ControlRodBorated</span> <span class="c1">#true</span>
<span class="n">TRANS_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_trans_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_trans</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_trans</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">TRANS_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRANS Clad Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">TRANS_clad</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">TRANS_clad</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_trans_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">r_trans_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_trans</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_trans</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">TRANS_bot_clad_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRANS clad bot cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">TRANS_bot_clad_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">TRANS_bot_clad_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_trans_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_trans_clad</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_trans</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">TRANS_bot_plug_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRANS clad bot plug&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">TRANS_bot_plug_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">TRANS_bot_plug_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_trans_bot_plug</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_trans_plug</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_trans_clad</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">TRANS_top_clad_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRANS clad top cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">TRANS_top_clad_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">TRANS_top_clad_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_trans_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_trans</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_clad_trans</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">TRANS_water_bot</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRANS water Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">TRANS_water_bot</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">TRANS_water_bot</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_top</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_trans_plug</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">TRANS_water_bot_plug</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRANS water Cell bot plug&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">TRANS_water_bot_plug</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">TRANS_water_bot_plug</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">r_trans_bot_plug</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_trans_clad</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_trans_plug</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">TRANS_water_top</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRANS water Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">TRANS_water_top</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">TRANS_water_top</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_clad_trans</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">TRANS_water_fill</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRANS water Cell for filling lattice&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">TRANS_water_fill</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">TRANS_water_fill</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">r_trans_outer</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_trans_clad</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_clad_trans</span>


<span class="n">transient_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">TRANS_cell</span><span class="p">)</span>
<span class="n">transient_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">TRANS_clad</span><span class="p">)</span>
<span class="n">transient_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">TRANS_water_top</span><span class="p">)</span>
<span class="n">transient_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">TRANS_water_bot</span><span class="p">)</span>
<span class="n">transient_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">TRANS_water_bot_plug</span><span class="p">)</span>
<span class="n">transient_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">TRANS_water_fill</span><span class="p">)</span>
<span class="n">transient_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">TRANS_top_clad_cell</span><span class="p">)</span>
<span class="n">transient_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">TRANS_bot_clad_cell</span><span class="p">)</span>
<span class="n">transient_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">TRANS_bot_plug_cell</span><span class="p">)</span>

<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">transient_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">z0_trans</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">z0_trans</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xz&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># REG rod</span>
<span class="n">reg_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;REG Universe&#39;</span><span class="p">)</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">REG_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;REG Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">REG_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">ControlRodB4C</span>
<span class="n">REG_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_reg_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reg</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_reg</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">REG_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;REG Clad Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">REG_clad</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">REG_clad</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_reg_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">r_reg_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reg</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_reg</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">REG_bot_clad_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;REG clad bot cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">REG_bot_clad_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">REG_bot_clad_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_reg_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reg_clad</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_reg</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">REG_bot_plug_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;REG clad bot plug&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">REG_bot_plug_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">REG_bot_plug_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_reg_bot_plug</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reg_plug</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_reg_clad</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">REG_top_clad_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;REG clad top cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">REG_top_clad_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">REG_top_clad_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_reg_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_reg</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_clad_reg</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">REG_water_top</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;REG water Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">REG_water_top</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">REG_water_top</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_clad_reg</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">REG_water_bot</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;REG water Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">REG_water_bot</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">REG_water_bot</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_top</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_reg_plug</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">REG_water_bot_plug</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;REG water Cell plug&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">REG_water_bot_plug</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">REG_water_bot_plug</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">r_reg_bot_plug</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_reg_clad</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reg_plug</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">REG_water_fill</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;REG water Cell for filling lattice&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">REG_water_fill</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">REG_water_fill</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">r_reg_outer</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reg_clad</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_clad_reg</span>


<span class="n">reg_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">REG_cell</span><span class="p">)</span>
<span class="n">reg_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">REG_clad</span><span class="p">)</span>
<span class="n">reg_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">REG_water_top</span><span class="p">)</span>
<span class="n">reg_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">REG_water_bot</span><span class="p">)</span>
<span class="n">reg_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">REG_water_bot_plug</span><span class="p">)</span>
<span class="n">reg_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">REG_water_fill</span><span class="p">)</span>
<span class="n">reg_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">REG_top_clad_cell</span><span class="p">)</span>
<span class="n">reg_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">REG_bot_clad_cell</span><span class="p">)</span>
<span class="n">reg_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">REG_bot_plug_cell</span><span class="p">)</span>


<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">reg_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">z0_reg</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">z0_reg</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xz&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># SHIM rod</span>
<span class="n">shim_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SHIM Universe&#39;</span><span class="p">)</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">SHIM_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SHIM Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">SHIM_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">ControlRodB4C</span>
<span class="n">SHIM_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_shim_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_shim</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_shim</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">SHIM_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SHIM Clad Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">SHIM_clad</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">SHIM_clad</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_shim_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">r_shim_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_shim</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_shim</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">SHIM_bot_clad_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SHIM clad bot cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">SHIM_bot_clad_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">SHIM_bot_clad_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_shim_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_shim_clad</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_shim</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">SHIM_bot_plug_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SHIM clad bot plug&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">SHIM_bot_plug_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">SHIM_bot_plug_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_shim_bot_plug</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_shim_plug</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_shim_clad</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">SHIM_top_clad_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SHIM clad top cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">SHIM_top_clad_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">SHIM_top_clad_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_shim_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_shim</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_clad_shim</span>


<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">SHIM_water_top</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SHIM water Cell top&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">SHIM_water_top</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">SHIM_water_top</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_clad_shim</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">SHIM_water_bot</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SHIM water Cell bot&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">SHIM_water_bot</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">SHIM_water_bot</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">end_domain_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_shim_plug</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">SHIM_water_bot_plug</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SHIM water Cell bot plug&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">SHIM_water_bot_plug</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">SHIM_water_bot_plug</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">r_shim_bot_plug</span>  <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_shim_plug</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_shim_clad</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">SHIM_water_fill</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;SHIM water Cell for filling lattice&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">SHIM_water_fill</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">SHIM_water_fill</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">r_shim_outer</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">r_clad_103</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_shim_clad</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_clad_shim</span>

<span class="n">shim_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">SHIM_cell</span><span class="p">)</span>
<span class="n">shim_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">SHIM_clad</span><span class="p">)</span>
<span class="n">shim_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">SHIM_water_top</span><span class="p">)</span>
<span class="n">shim_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">SHIM_water_bot</span><span class="p">)</span>
<span class="n">shim_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">SHIM_water_bot_plug</span><span class="p">)</span>
<span class="n">shim_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">SHIM_water_fill</span><span class="p">)</span>
<span class="n">shim_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">SHIM_top_clad_cell</span><span class="p">)</span>
<span class="n">shim_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">SHIM_bot_clad_cell</span><span class="p">)</span>
<span class="n">shim_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">SHIM_bot_plug_cell</span><span class="p">)</span>


<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">shim_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">z0_shim</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">6.0</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">z0_shim</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xz&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dummy channel (graphite)</span>
<span class="n">graphite_channel_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Graphite Channel Universe&#39;</span><span class="p">)</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">graphite_channel_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Graphite channel Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">graphite_channel_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">graphite_channel_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_dummy_graphite</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">reflector_bot_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">reflector_top_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">graphite_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Graphite Clad Cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">graphite_clad</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">graphite_clad</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_dummy_clad</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">r_dummy_graphite</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">reflector_bot_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">reflector_top_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">dummy_top_plug_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Graphite channel Cell plug top&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">dummy_top_plug_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">dummy_top_plug_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_dummy_clad</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">reflector_top_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">clad_top_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">dummy_bot_plug_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Graphite channel Cell plug bot&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">dummy_bot_plug_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">dummy_bot_plug_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_dummy_clad</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">clad_bot_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">reflector_bot_101</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">dummy_bot_water_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">dummy_bot_water_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">dummy_bot_water_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_dummy_clad</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">clad_bot_101</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">end_domain_bot</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">dummy_top_water_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">dummy_top_water_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">dummy_top_water_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_dummy_clad</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">clad_top_101</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span>


<span class="n">graphite_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">graphite_channel_cell</span><span class="p">)</span>
<span class="n">graphite_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">graphite_clad</span><span class="p">)</span>
<span class="n">graphite_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">dummy_top_plug_cell</span><span class="p">)</span>
<span class="n">graphite_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">dummy_bot_plug_cell</span><span class="p">)</span>
<span class="n">graphite_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">dummy_top_water_cell</span><span class="p">)</span>
<span class="n">graphite_channel_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">dummy_bot_water_cell</span><span class="p">)</span>


<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">graphite_channel_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">7.0</span><span class="p">,</span> <span class="mi">70</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xz&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Rabbit &amp; Source empty channels</span>
<span class="n">rabbit_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Rabbit Universe&#39;</span><span class="p">)</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">rabbit_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Rabbit&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">rabbit_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Vacuum</span>
<span class="n">rabbit_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">r_rabbit_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_top</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">rabbit_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Rabbit clad&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">rabbit_clad</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">rabbit_clad</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">r_rabbit_inner</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">r_rabbit_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_top</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span>

<span class="n">rabbit_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">rabbit_cell</span><span class="p">)</span>
<span class="n">rabbit_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">rabbit_clad</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Reflector</span>
<span class="n">reflector_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector&#39;</span><span class="p">)</span>

<span class="c1"># Create reflector cell</span>
<span class="c1"># --&gt; 4 void zones inside the reflector: 1 cylindrical annulus and 3 channels</span>

<span class="c1"># Cylindrical ring between 31.35 and 57</span>
<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_cell_down</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector cell down&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_cell_down</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">reflector_cell_down</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">inner_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">refl_void_b</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">channel_1_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">channel_2_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">channel_3_outer</span> <span class="c1">#aggiungere canali</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_cell_fill_ch1</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector cell fill ch1&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_cell_fill_ch1</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">reflector_cell_fill_ch1</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">inner_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">refl_void_b</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_1_outer</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_1_discriminator</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_cell_fill_ch2</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector cell fill ch2&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_cell_fill_ch2</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">reflector_cell_fill_ch2</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">inner_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">refl_void_b</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_2_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">channel_2_discriminator</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_cell_fill_ch3</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector cell fill ch3&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_cell_fill_ch3</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">reflector_cell_fill_ch3</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">inner_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">refl_void_b</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_3_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">channel_3_discriminator</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">channel_2_outer</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_cell_right_vacuum</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector right side from vacuum&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_cell_right_vacuum</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">reflector_cell_right_vacuum</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">refl_void_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">inner_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">refl_void_b</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_reflector</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_cell_left_vacuum</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector left side from vacuum&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_cell_left_vacuum</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Graphite</span>
<span class="n">reflector_cell_left_vacuum</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">refl_void_outer</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">refl_void_b</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_reflector</span>

<span class="c1"># lazy susan</span>
<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_cell_vacuum</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector vacuum&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_cell_vacuum</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Vacuum</span>
<span class="n">reflector_cell_vacuum</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">refl_void_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">refl_void_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">refl_void_b</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_reflector</span> <span class="c1">#aggiungere canali</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_clad_bot</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector clad bot&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_clad_bot</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">reflector_clad_bot</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">core_radius</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s1</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_clad_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bot_reflector</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_clad_top</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector clad top&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_clad_top</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">reflector_clad_top</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">core_radius</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s1</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_clad_reflector</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_clad_side_inner</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector clad side inner&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_clad_side_inner</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">reflector_clad_side_inner</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">core_radius</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">inner_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_reflector</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_clad_side_outer</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Reflector clad side outer&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_clad_side_outer</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">reflector_clad_side_outer</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s1</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bot_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_reflector</span>


<span class="c1">#CHANNELS</span>
<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_ch1</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;irradiation channel 1&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_ch1</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Vacuum</span>
<span class="n">reflector_ch1</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">channel_1_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">inner_radius_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">channel_1_discriminator</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_ch1_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;clad irradiation channel 1&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_ch1_clad</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">reflector_ch1_clad</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">channel_1_inner</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_1_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">inner_radius_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">channel_1_discriminator</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_ch2</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;irradiation channel 2&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_ch2</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Vacuum</span>
<span class="n">reflector_ch2</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">channel_2_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">inner_radius_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_2_discriminator</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_ch2_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;clad irradiation channel 2&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_ch2_clad</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">reflector_ch2_clad</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">channel_2_inner</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_2_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">inner_radius_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_2_discriminator</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_ch3</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;irradiation channel 3&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_ch3</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Vacuum</span>
<span class="n">reflector_ch3</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">channel_3_inner</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">channel_2_outer</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_3_discriminator</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector_ch3_clad</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;clad irradiation channel 3&#39;</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector_ch3_clad</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">reflector_ch3_clad</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">channel_3_inner</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_3_outer</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">channel_2_outer</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">outer_radius_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">channel_3_discriminator</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">water_reflector_top</span><span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">water_reflector_top</span><span class="o">.</span><span class="n">region</span><span class="o">=</span> <span class="o">+</span><span class="n">top_clad_reflector</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s1</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">core_radius</span>
<span class="n">water_reflector_top</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">water_reflector_bottom</span><span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">water_reflector_bottom</span><span class="o">.</span><span class="n">region</span><span class="o">=</span> <span class="o">+</span><span class="n">end_domain_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bottom_grid_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s1</span>
<span class="n">water_reflector_bottom</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">water_reflector_bottom2</span><span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
<span class="n">water_reflector_bottom2</span><span class="o">.</span><span class="n">region</span><span class="o">=</span> <span class="o">-</span><span class="n">bot_clad_reflector</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s1</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">core_radius</span>
<span class="n">water_reflector_bottom2</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>


<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_cell_down</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_cell_vacuum</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_cell_right_vacuum</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_cell_left_vacuum</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_clad_bot</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_clad_top</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_clad_side_inner</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_clad_side_outer</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_ch1</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_cell_fill_ch1</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_ch1_clad</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_ch2</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_cell_fill_ch2</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_ch2_clad</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_ch3</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_cell_fill_ch3</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector_ch3_clad</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">water_reflector_top</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">water_reflector_bottom</span><span class="p">)</span>
<span class="n">reflector_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">water_reflector_bottom2</span><span class="p">)</span>


<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">reflector_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">130.0</span><span class="p">,</span> <span class="mi">130</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">500</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xz&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">)</span>
    <span class="n">reflector_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">130.0</span><span class="p">,</span> <span class="mi">130</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">500</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Concrete --&gt; to do</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Core universe</span>

<span class="c1"># Create surfaces that will divide rings in the circular lattice</span>
<span class="n">ring_radii</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">4.0975</span><span class="p">,</span> <span class="mf">8.2</span><span class="p">,</span> <span class="mf">12.2</span><span class="p">,</span> <span class="mf">16.3</span><span class="p">,</span> <span class="mf">20.3</span><span class="p">])</span><span class="c1"># From Riccardo Boccelli MSc thesis</span>
<span class="n">radial_surf</span> <span class="o">=</span> <span class="p">[</span><span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="n">r</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span>
               <span class="p">(</span><span class="n">ring_radii</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">ring_radii</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span>

<span class="n">water_cells_down</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">water_cells_up</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">top_grid_cells</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ring_radii</span><span class="o">.</span><span class="n">size</span><span class="p">):</span>
    <span class="c1"># Create annular region</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">water_region_down</span> <span class="o">=</span> <span class="o">-</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_grid_bot</span>
        <span class="n">water_region_up</span> <span class="o">=</span> <span class="o">-</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_grid_top</span>
        <span class="n">grid_region</span> <span class="o">=</span> <span class="o">-</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_grid_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_grid_top</span>
    <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="n">ring_radii</span><span class="o">.</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">water_region_down</span> <span class="o">=</span> <span class="o">-</span><span class="n">top_grid_bot</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">core_radius</span>
        <span class="n">water_region_up</span> <span class="o">=</span> <span class="o">+</span><span class="n">top_grid_top</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">core_radius</span>
        <span class="n">grid_region</span> <span class="o">=</span> <span class="o">+</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_grid_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_grid_top</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">water_region_down</span> <span class="o">=</span> <span class="o">-</span><span class="n">top_grid_bot</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">water_region_up</span> <span class="o">=</span> <span class="o">+</span><span class="n">top_grid_top</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">grid_region</span> <span class="o">=</span> <span class="o">+</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">radial_surf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">top_grid_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">top_grid_top</span>

    <span class="n">cellid</span> <span class="o">+=</span><span class="mi">1</span>
    <span class="n">water_cell_down</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">Water</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">water_region_down</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>

    <span class="n">cellid</span> <span class="o">+=</span><span class="mi">1</span>
    <span class="n">water_cell_up</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">Water</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">water_region_up</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>

    <span class="n">cellid</span> <span class="o">+=</span><span class="mi">1</span>
    <span class="n">top_grid_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">CladdingAl</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">grid_region</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
    <span class="n">top_grid_cells</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">top_grid_cell</span><span class="p">)</span>

    <span class="n">water_cells_down</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">water_cell_down</span><span class="p">)</span>
    <span class="n">water_cells_up</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">water_cell_up</span><span class="p">)</span>


<span class="n">core_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">()</span>
<span class="n">core_universe</span><span class="o">.</span><span class="n">add_cells</span><span class="p">(</span><span class="n">water_cells_down</span><span class="p">)</span>
<span class="n">core_universe</span><span class="o">.</span><span class="n">add_cells</span><span class="p">(</span><span class="n">water_cells_up</span><span class="p">)</span>
<span class="n">core_universe</span><span class="o">.</span><span class="n">add_cells</span><span class="p">(</span><span class="n">top_grid_cells</span><span class="p">)</span>


<span class="c1"># Arrange the pins in the circular lattice</span>
<span class="n">num_pins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
<span class="n">angles</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="c1">#angles = [0, 30, 0, 30, 0, 30]</span>

<span class="c1"># In order to insert pin in the lattice, it is needed to define first the parameters for the spatial location.</span>
<span class="c1"># In particular: &#39;numPins&#39; identifies the ring, and &#39;howleft&#39; the angular degree</span>

<span class="n">centralChannel</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;numPins&#39;</span><span class="p">:[</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="c1"># Here the &#39;howLeft&#39; parameter it is not necessary due to only one pin</span>
                  <span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">]}</span>

<span class="n">REG</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;numPins&#39;</span>  <span class="p">:[</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">]],</span>
       <span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">:[</span><span class="mi">7</span><span class="p">]}</span>

<span class="n">TRANS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;numPins&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
         <span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">:[</span><span class="mi">11</span><span class="p">]}</span>

<span class="n">SHIM</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;numPins&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">:[</span><span class="o">-</span><span class="mi">1</span><span class="p">]}</span>

<span class="n">waterRods</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;numPins&#39;</span>  <span class="p">:[</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">]],</span>
             <span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">]}</span>

<span class="n">graphiteRods</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;numPins&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span>
                <span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">:[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]}</span>

<span class="c1"># 6 pin in ring 1, 11 in ring 2 and so on</span>
<span class="n">Fuel_1033</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;numPins&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>

                        <span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                        <span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>

                        <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>

                        <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                        <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
                        <span class="p">],</span>
                <span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span>    <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span>  <span class="mi">14</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">27</span>     <span class="p">]</span> <span class="p">}</span>


<span class="c1">#corona 3, ho (18-2) pins</span>
<span class="n">Fuel_1011</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;numPins&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>

                        <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>

                        <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>  <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>  <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>  <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>  <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>  <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>  <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>  <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>  <span class="n">num_pins</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>

                        <span class="p">],</span>
                <span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span>   <span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span>     <span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">28</span><span class="p">]</span> <span class="p">}</span>



<span class="c1"># Here I define some variables in order to locate the pins in the next for iteration</span>

<span class="k">def</span> <span class="nf">CentralChannel</span><span class="p">(</span><span class="n">centralChannel</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">irod</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">centralChannel</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">])):</span>
        <span class="k">if</span> <span class="n">n</span>   <span class="o">==</span> <span class="n">centralChannel</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">REGChannel</span><span class="p">(</span><span class="n">REG</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">irod</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">REG</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">])):</span>
        <span class="k">if</span> <span class="n">n</span>   <span class="o">==</span> <span class="n">REG</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]</span> <span class="ow">and</span> \
           <span class="n">j</span><span class="o">-</span><span class="mi">1</span> <span class="o">==</span> <span class="n">REG</span><span class="p">[</span><span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">SHIMChannel</span><span class="p">(</span><span class="n">SHIM</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">irod</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">SHIM</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">])):</span>
        <span class="k">if</span> <span class="n">n</span>   <span class="o">==</span> <span class="n">SHIM</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]</span> <span class="ow">and</span> \
           <span class="n">j</span><span class="o">-</span><span class="mi">1</span> <span class="o">==</span> <span class="n">SHIM</span><span class="p">[</span><span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">TransientRod</span><span class="p">(</span><span class="n">TRANS</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">irod</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">TRANS</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">])):</span>
        <span class="k">if</span> <span class="n">n</span>   <span class="o">==</span> <span class="n">TRANS</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]</span> <span class="ow">and</span> \
           <span class="n">j</span><span class="o">-</span><span class="mi">1</span> <span class="o">==</span> <span class="n">TRANS</span><span class="p">[</span><span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">WaterRod</span><span class="p">(</span><span class="n">waterRods</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">irod</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">waterRods</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">])):</span>
        <span class="k">if</span> <span class="n">n</span>   <span class="o">==</span> <span class="n">waterRods</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]</span> <span class="ow">and</span> \
           <span class="n">j</span><span class="o">-</span><span class="mi">1</span> <span class="o">==</span> <span class="n">waterRods</span><span class="p">[</span><span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">GraphiteRod</span><span class="p">(</span><span class="n">graphiteRods</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">irod</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">graphiteRods</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">])):</span>
        <span class="k">if</span> <span class="n">n</span>   <span class="o">==</span> <span class="n">graphiteRods</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]</span> <span class="ow">and</span> \
           <span class="n">j</span><span class="o">-</span><span class="mi">1</span> <span class="o">==</span> <span class="n">graphiteRods</span><span class="p">[</span><span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">Fuel_103</span><span class="p">(</span><span class="n">Fuel_1033</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">irod</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Fuel_1033</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">])):</span>
        <span class="k">if</span> <span class="n">n</span>   <span class="o">==</span> <span class="n">Fuel_1033</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]</span> <span class="ow">and</span> \
           <span class="n">j</span><span class="o">-</span><span class="mi">1</span> <span class="o">==</span> <span class="n">Fuel_1033</span><span class="p">[</span><span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>


<span class="k">def</span> <span class="nf">Fuel_101</span><span class="p">(</span><span class="n">Fuel_1011</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">irod</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Fuel_1011</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">])):</span>
        <span class="k">if</span> <span class="n">n</span>   <span class="o">==</span> <span class="n">Fuel_1011</span><span class="p">[</span><span class="s1">&#39;numPins&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]</span> <span class="ow">and</span> \
           <span class="n">j</span><span class="o">-</span><span class="mi">1</span> <span class="o">==</span> <span class="n">Fuel_1011</span><span class="p">[</span><span class="s1">&#39;howLeftFrom3oclock&#39;</span><span class="p">][</span><span class="n">irod</span><span class="p">]:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>



<span class="c1"># Filling the core</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">ring_radii</span><span class="p">,</span> <span class="n">num_pins</span><span class="p">,</span> <span class="n">angles</span><span class="p">)):</span>

    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>

        <span class="c1"># Determine location of center of pin</span>
        <span class="n">theta</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">j</span><span class="o">/</span><span class="n">n</span><span class="o">*</span><span class="mf">360.</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mf">180.</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
        <span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">pin_boundary</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">x0</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">r_clad_101</span><span class="o">.</span><span class="n">r</span><span class="p">)</span>
        <span class="n">pin_boundary_CC</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">x0</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">r_central_channel_clad</span><span class="o">.</span><span class="n">r</span><span class="p">)</span>
        <span class="n">water_cells_down</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">region</span> <span class="o">&amp;=</span> <span class="o">+</span><span class="n">pin_boundary</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">core_radius</span>
        <span class="n">water_cells_up</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">region</span> <span class="o">&amp;=</span> <span class="o">+</span><span class="n">pin_boundary</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">core_radius</span>
        <span class="n">top_grid_cells</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">region</span> <span class="o">&amp;=</span> <span class="o">+</span><span class="n">pin_boundary</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">core_radius</span>

        <span class="c1"># Create each fuel pin -- note that we explicitly assign an ID so</span>
        <span class="c1"># that we can identify the pin later when looking at tallies</span>
        <span class="k">if</span> <span class="n">CentralChannel</span><span class="p">(</span><span class="n">centralChannel</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Adding in a central channel rod...&#39;</span><span class="p">)</span>
            <span class="n">pin</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">central_channel_universe</span><span class="p">,</span> <span class="n">region</span><span class="o">=-</span><span class="n">pin_boundary_CC</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">TransientRod</span><span class="p">(</span><span class="n">TRANS</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Adding in a transient rod...&#39;</span><span class="p">)</span>
            <span class="n">pin</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">transient_universe</span><span class="p">,</span> <span class="n">region</span><span class="o">=-</span><span class="n">pin_boundary</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">WaterRod</span><span class="p">(</span><span class="n">waterRods</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Adding in a water rod...&#39;</span><span class="p">)</span>
            <span class="n">pin</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">rabbit_universe</span><span class="p">,</span> <span class="n">region</span><span class="o">=-</span><span class="n">pin_boundary</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">SHIMChannel</span><span class="p">(</span><span class="n">SHIM</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Adding in a SHIM rod...&#39;</span><span class="p">)</span>
            <span class="n">pin</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">shim_universe</span><span class="p">,</span> <span class="n">region</span><span class="o">=-</span><span class="n">pin_boundary</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">REGChannel</span><span class="p">(</span><span class="n">REG</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Adding in a REG rod...&#39;</span><span class="p">)</span>
            <span class="n">pin</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">reg_universe</span><span class="p">,</span> <span class="n">region</span><span class="o">=-</span><span class="n">pin_boundary</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">GraphiteRod</span><span class="p">(</span><span class="n">graphiteRods</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Adding in a graphite rod...&#39;</span><span class="p">)</span>
            <span class="n">pin</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">graphite_channel_universe</span><span class="p">,</span> <span class="n">region</span><span class="o">=-</span><span class="n">pin_boundary</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">Fuel_103</span><span class="p">(</span><span class="n">Fuel_1033</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Adding in a 103 Fuel type...&#39;</span><span class="p">)</span>
            <span class="n">pin</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">fuel_103_universe</span><span class="p">,</span> <span class="n">region</span><span class="o">=-</span><span class="n">pin_boundary</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">Fuel_101</span><span class="p">(</span><span class="n">Fuel_1011</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Adding in a 101 Fuel type...&#39;</span><span class="p">)</span>
            <span class="n">pin</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">fuel_101_universe</span><span class="p">,</span> <span class="n">region</span><span class="o">=-</span><span class="n">pin_boundary</span><span class="p">,</span> <span class="n">cell_id</span><span class="o">=</span><span class="n">cellid</span><span class="p">)</span>

        <span class="n">pin</span><span class="o">.</span><span class="n">translation</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">pin</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span> <span class="o">+</span> <span class="n">j</span>
        <span class="n">core_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>


<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">core_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">60.0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xz&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">,</span> <span class="n">seed</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>

<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">core_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">60.0</span><span class="p">,</span> <span class="mi">60</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">600</span><span class="p">,</span> <span class="mi">600</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">,</span> <span class="n">seed</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adding in a central channel rod...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a SHIM rod...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a transient rod...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a REG rod...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a 101 Fuel type...
Adding in a graphite rod...
Adding in a graphite rod...
Adding in a water rod...
Adding in a graphite rod...
Adding in a graphite rod...
Adding in a graphite rod...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a water rod...
Adding in a 101 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
Adding in a 103 Fuel type...
Adding in a 101 Fuel type...
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=91.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=92.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=93.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=94.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=95.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=96.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=97.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=98.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=99.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=100.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=101.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=102.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=103.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=104.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=105.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=106.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=107.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=108.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=109.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=300.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=110.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=400.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=111.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=401.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=112.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=402.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=113.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=403.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=114.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=404.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=115.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=405.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=116.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=500.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=117.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=501.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=118.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=502.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=119.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=503.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=120.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=504.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=121.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=505.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=122.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=506.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=123.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=507.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=124.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=508.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=125.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=509.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=126.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=510.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=127.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=511.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=128.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=600.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=129.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=601.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=130.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=602.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=131.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=603.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=132.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=604.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=133.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=605.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=134.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=606.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=135.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=607.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=136.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=608.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=137.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=609.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=138.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=610.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=139.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=611.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=140.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=612.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=141.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=613.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=142.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=614.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=143.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=615.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=144.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=616.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=145.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=617.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=146.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=700.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=147.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=701.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=148.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=702.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=149.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=703.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=150.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=704.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=151.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=705.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=152.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=706.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=153.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=707.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=154.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=708.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=155.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=709.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=156.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=710.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=157.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=711.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=158.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=712.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=159.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=713.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=160.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=714.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=161.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=715.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=162.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=716.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=163.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=717.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=164.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=718.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=165.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=719.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=166.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=720.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=167.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=721.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=168.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=722.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=169.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=723.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=170.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=800.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=171.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=801.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=172.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=802.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=173.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=803.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=174.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=804.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=175.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=805.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=176.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=806.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=177.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=807.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=178.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=808.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=179.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=809.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=180.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=810.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=181.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=811.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=182.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=812.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=183.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=813.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=184.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=814.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=185.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=815.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=186.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=816.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=187.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=817.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=188.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=818.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=189.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=819.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=190.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=820.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=191.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=821.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=192.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=822.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=193.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=823.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=194.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=824.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=195.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=825.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=196.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=826.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=197.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=827.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=198.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=828.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=199.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=829.
  warn(msg, IDWarning)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Geometry definitions for the reactor</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reactor</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">reactor</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">core_radius</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_top</span>
<span class="n">reactor</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">core_universe</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">reflector</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">reflector</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">core_radius</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">s1</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">end_domain_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">end_domain_top</span>
<span class="n">reflector</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">reflector_universe</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">bottom_grid_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;bottom grid cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">bottom_grid_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">CladdingCR</span>
<span class="n">bottom_grid_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">core_radius</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">bottom_grid_bot</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bottom_grid_top</span>

<span class="n">cellid</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">bottom_grid_cell_water</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;bottom grid cell&#39;</span><span class="p">,</span> <span class="n">cell_id</span> <span class="o">=</span> <span class="n">cellid</span><span class="p">)</span>
<span class="n">bottom_grid_cell_water</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">Water</span>
<span class="n">bottom_grid_cell_water</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">core_radius</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">bottom_grid_bot</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">end_domain_bot</span>


<span class="c1">### --- ROOT UNIVERSE</span>
<span class="n">triga_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;TRIGA universe&#39;</span><span class="p">)</span>

<span class="n">triga_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reactor</span><span class="p">)</span>
<span class="n">triga_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">reflector</span><span class="p">)</span>
<span class="n">triga_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">bottom_grid_cell</span><span class="p">)</span>
<span class="n">triga_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">bottom_grid_cell_water</span><span class="p">)</span>


<span class="n">geometry</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Geometry</span><span class="p">((</span><span class="n">triga_universe</span><span class="p">))</span>

<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">triga_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">130.0</span><span class="p">,</span> <span class="mi">130</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">700</span><span class="p">,</span> <span class="mi">700</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xz&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">,</span> <span class="n">seed</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>

<span class="k">if</span> <span class="n">inline_plot</span><span class="p">:</span>
    <span class="n">triga_universe</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">130.0</span><span class="p">,</span> <span class="mi">130</span><span class="p">),</span> <span class="n">pixels</span><span class="o">=</span><span class="p">[</span><span class="mi">700</span><span class="p">,</span> <span class="mi">700</span><span class="p">],</span> <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;material&#39;</span><span class="p">,</span> <span class="n">seed</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=200.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=201.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=202.
  warn(msg, IDWarning)
/home/renato/miniconda3/envs/mc/lib/python3.11/site-packages/openmc/mixin.py:70: IDWarning: Another Cell instance already exists with id=203.
  warn(msg, IDWarning)
</pre></div></div>
</div>
</section>
<section id="Plots">
<h2>Plots<a class="headerlink" href="#Plots" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot definition</span>

<span class="n">folder_path</span> <span class="o">=</span> <span class="s1">&#39;./pictures/geometry/&#39;</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">folder_path</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">folder_path</span><span class="p">)</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">Water</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">204</span><span class="p">),</span>
    <span class="n">CladdingSS</span><span class="p">:</span> <span class="p">(</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">),</span>
    <span class="n">CladdingCR</span><span class="p">:</span> <span class="p">(</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">),</span>
    <span class="n">CladdingAl</span><span class="p">:</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span>
    <span class="n">Fuel101</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">Fuel103</span><span class="p">:</span> <span class="p">(</span><span class="mi">155</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">Graphite</span><span class="p">:</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span>
    <span class="n">Vacuum</span><span class="p">:</span> <span class="p">(</span><span class="mi">249</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">227</span><span class="p">),</span>
    <span class="n">ControlRodB4C</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">ControlRodBorated</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">Samarium</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">51</span><span class="p">),</span>
    <span class="n">Zirconium</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">76</span><span class="p">),</span> <span class="p">}</span>

<span class="n">plot_xy1</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plot</span><span class="p">()</span>
<span class="n">plot_xy1</span><span class="o">.</span><span class="n">basis</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span>
<span class="n">plot_xy1</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">23.15</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span> <span class="c1">#23.15 , 28.15, 10.4 (start CR)</span>
<span class="n">plot_xy1</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
<span class="n">plot_xy1</span><span class="o">.</span><span class="n">pixels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">plot_xy1</span><span class="o">.</span><span class="n">color_by</span> <span class="o">=</span> <span class="s1">&#39;material&#39;</span>
<span class="n">plot_xy1</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">folder_path</span><span class="o">+</span><span class="s1">&#39;view_xy1&#39;</span>
<span class="n">plot_xy1</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">Water</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">204</span><span class="p">),</span>
    <span class="n">CladdingSS</span><span class="p">:</span> <span class="p">(</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">),</span>
    <span class="n">CladdingCR</span><span class="p">:</span> <span class="p">(</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">),</span>
    <span class="n">CladdingAl</span><span class="p">:</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span>
    <span class="n">Fuel101</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">Fuel103</span><span class="p">:</span> <span class="p">(</span><span class="mi">155</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">Graphite</span><span class="p">:</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span>
    <span class="n">Vacuum</span><span class="p">:</span> <span class="p">(</span><span class="mi">249</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">227</span><span class="p">),</span>
    <span class="n">ControlRodB4C</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">ControlRodBorated</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">Samarium</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">51</span><span class="p">),</span>
    <span class="n">Zirconium</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">76</span><span class="p">),</span>

<span class="p">}</span>

<span class="n">plot_xy2</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plot</span><span class="p">()</span>
<span class="n">plot_xy2</span><span class="o">.</span><span class="n">basis</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span>
<span class="n">plot_xy2</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">23.15</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span> <span class="c1">#23.15 , 28.15, 10.4 (start CR)</span>
<span class="n">plot_xy2</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
<span class="n">plot_xy2</span><span class="o">.</span><span class="n">pixels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">plot_xy2</span><span class="o">.</span><span class="n">color_by</span> <span class="o">=</span> <span class="s1">&#39;material&#39;</span>
<span class="n">plot_xy2</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">folder_path</span><span class="o">+</span><span class="s1">&#39;view_xy2&#39;</span>
<span class="n">plot_xy2</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">Water</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">204</span><span class="p">),</span>
    <span class="n">CladdingSS</span><span class="p">:</span> <span class="p">(</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">),</span>
    <span class="n">CladdingCR</span><span class="p">:</span> <span class="p">(</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">),</span>
    <span class="n">CladdingAl</span><span class="p">:</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span>
    <span class="n">Fuel101</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">Fuel103</span><span class="p">:</span> <span class="p">(</span><span class="mi">155</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">Graphite</span><span class="p">:</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span>
    <span class="n">Vacuum</span><span class="p">:</span> <span class="p">(</span><span class="mi">249</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">227</span><span class="p">),</span>
    <span class="n">ControlRodB4C</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">ControlRodBorated</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">Samarium</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">51</span><span class="p">),</span>
    <span class="n">Zirconium</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">76</span><span class="p">),</span>

<span class="p">}</span>

<span class="n">plot_xy3</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plot</span><span class="p">()</span>
<span class="n">plot_xy3</span><span class="o">.</span><span class="n">basis</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span>
<span class="n">plot_xy3</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">23.15</span><span class="p">)</span> <span class="c1">#23.15 , 28.15, 10.4 (start CR)</span>
<span class="n">plot_xy3</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
<span class="n">plot_xy3</span><span class="o">.</span><span class="n">pixels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">plot_xy3</span><span class="o">.</span><span class="n">color_by</span> <span class="o">=</span> <span class="s1">&#39;material&#39;</span>
<span class="n">plot_xy3</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">folder_path</span><span class="o">+</span><span class="s1">&#39;view_xy3&#39;</span>
<span class="n">plot_xy3</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">Water</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">204</span><span class="p">),</span>
    <span class="n">CladdingSS</span><span class="p">:</span> <span class="p">(</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">),</span>
    <span class="n">CladdingCR</span><span class="p">:</span> <span class="p">(</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">),</span>
    <span class="n">CladdingAl</span><span class="p">:</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span>
    <span class="n">Fuel101</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">Fuel103</span><span class="p">:</span> <span class="p">(</span><span class="mi">155</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">Graphite</span><span class="p">:</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span>
    <span class="n">Vacuum</span><span class="p">:</span> <span class="p">(</span><span class="mi">249</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">227</span><span class="p">),</span>
    <span class="n">ControlRodB4C</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">ControlRodBorated</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">Samarium</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">51</span><span class="p">),</span>
    <span class="n">Zirconium</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">76</span><span class="p">),</span>

<span class="p">}</span>

<span class="n">plot_xy4</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plot</span><span class="p">()</span>
<span class="n">plot_xy4</span><span class="o">.</span><span class="n">basis</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span>
<span class="n">plot_xy4</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">23.15</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">#23.15 , 28.15, 10.4 (start CR)</span>
<span class="n">plot_xy4</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
<span class="n">plot_xy4</span><span class="o">.</span><span class="n">pixels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">plot_xy4</span><span class="o">.</span><span class="n">color_by</span> <span class="o">=</span> <span class="s1">&#39;material&#39;</span>
<span class="n">plot_xy4</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">folder_path</span><span class="o">+</span><span class="s1">&#39;view_xy4&#39;</span>
<span class="n">plot_xy4</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">Water</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">204</span><span class="p">),</span>
    <span class="n">CladdingSS</span><span class="p">:</span> <span class="p">(</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">),</span>
    <span class="n">CladdingCR</span><span class="p">:</span> <span class="p">(</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">),</span>
    <span class="n">CladdingAl</span><span class="p">:</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span>
    <span class="n">Fuel101</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">Fuel103</span><span class="p">:</span> <span class="p">(</span><span class="mi">155</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">Graphite</span><span class="p">:</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span>
    <span class="n">Vacuum</span><span class="p">:</span> <span class="p">(</span><span class="mi">249</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">227</span><span class="p">),</span>
    <span class="n">ControlRodB4C</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">ControlRodBorated</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">Samarium</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">51</span><span class="p">),</span>
    <span class="n">Zirconium</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">76</span><span class="p">),</span>

<span class="p">}</span>

<span class="n">plot_xy5</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plot</span><span class="p">()</span>
<span class="n">plot_xy5</span><span class="o">.</span><span class="n">basis</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span>
<span class="n">plot_xy5</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">23.15</span><span class="o">+</span><span class="mi">4</span><span class="p">)</span> <span class="c1">#23.15 , 28.15, 10.4 (start CR)</span>
<span class="n">plot_xy5</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
<span class="n">plot_xy5</span><span class="o">.</span><span class="n">pixels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">plot_xy5</span><span class="o">.</span><span class="n">color_by</span> <span class="o">=</span> <span class="s1">&#39;material&#39;</span>
<span class="n">plot_xy5</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">folder_path</span><span class="o">+</span><span class="s1">&#39;view_xy5&#39;</span>
<span class="n">plot_xy5</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">Water</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">204</span><span class="p">),</span>
    <span class="n">CladdingSS</span><span class="p">:</span> <span class="p">(</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">),</span>
    <span class="n">CladdingCR</span><span class="p">:</span> <span class="p">(</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">),</span>
    <span class="n">CladdingAl</span><span class="p">:</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span>
    <span class="n">Fuel101</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">Fuel103</span><span class="p">:</span> <span class="p">(</span><span class="mi">155</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">Graphite</span><span class="p">:</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span>
    <span class="n">Vacuum</span><span class="p">:</span> <span class="p">(</span><span class="mi">249</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">227</span><span class="p">),</span>
    <span class="n">ControlRodB4C</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">ControlRodBorated</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">Samarium</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">51</span><span class="p">),</span>
    <span class="n">Zirconium</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">76</span><span class="p">),</span>

<span class="p">}</span>

<span class="n">plot_xy6</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plot</span><span class="p">()</span>
<span class="n">plot_xy6</span><span class="o">.</span><span class="n">basis</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span>
<span class="n">plot_xy6</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">23.15</span> <span class="o">+</span> <span class="mi">7</span><span class="p">)</span> <span class="c1">#23.15 , 28.15, 10.4 (start CR)</span>
<span class="n">plot_xy6</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
<span class="n">plot_xy6</span><span class="o">.</span><span class="n">pixels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">plot_xy6</span><span class="o">.</span><span class="n">color_by</span> <span class="o">=</span> <span class="s1">&#39;material&#39;</span>
<span class="n">plot_xy6</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">folder_path</span><span class="o">+</span><span class="s1">&#39;view_xy6&#39;</span>
<span class="n">plot_xy6</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">Water</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">204</span><span class="p">),</span>
    <span class="n">CladdingSS</span><span class="p">:</span> <span class="p">(</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">),</span>
    <span class="n">CladdingCR</span><span class="p">:</span> <span class="p">(</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">),</span>
    <span class="n">CladdingAl</span><span class="p">:</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span>
    <span class="n">Fuel101</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">Fuel103</span><span class="p">:</span> <span class="p">(</span><span class="mi">155</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">Graphite</span><span class="p">:</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span>
    <span class="n">Vacuum</span><span class="p">:</span> <span class="p">(</span><span class="mi">249</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">227</span><span class="p">),</span>
    <span class="n">ControlRodB4C</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">ControlRodBorated</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">Samarium</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">51</span><span class="p">),</span>
    <span class="n">Zirconium</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">76</span><span class="p">),</span>

<span class="p">}</span>

<span class="n">plot_vista_shim</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plot</span><span class="p">()</span>
<span class="n">plot_vista_shim</span><span class="o">.</span><span class="n">basis</span> <span class="o">=</span> <span class="s1">&#39;xz&#39;</span>
<span class="n">plot_vista_shim</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">plot_vista_shim</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">230</span><span class="p">)</span>
<span class="n">plot_vista_shim</span><span class="o">.</span><span class="n">pixels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">plot_vista_shim</span><span class="o">.</span><span class="n">color_by</span> <span class="o">=</span> <span class="s1">&#39;material&#39;</span>
<span class="n">plot_vista_shim</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">folder_path</span><span class="o">+</span><span class="s1">&#39;view_shim&#39;</span>
<span class="n">plot_vista_shim</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">Water</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">204</span><span class="p">),</span>
    <span class="n">CladdingSS</span><span class="p">:</span> <span class="p">(</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">),</span>
    <span class="n">CladdingCR</span><span class="p">:</span> <span class="p">(</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">),</span>
    <span class="n">CladdingAl</span><span class="p">:</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span>
    <span class="n">Fuel101</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">Fuel103</span><span class="p">:</span> <span class="p">(</span><span class="mi">155</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">Graphite</span><span class="p">:</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span>
    <span class="n">Vacuum</span><span class="p">:</span> <span class="p">(</span><span class="mi">249</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">227</span><span class="p">),</span>
    <span class="n">ControlRodB4C</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">ControlRodBorated</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">Samarium</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">51</span><span class="p">),</span>
    <span class="n">Zirconium</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">76</span><span class="p">),</span>

<span class="p">}</span>


<span class="n">plot_vista_reg</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plot</span><span class="p">()</span>
<span class="n">plot_vista_reg</span><span class="o">.</span><span class="n">basis</span> <span class="o">=</span> <span class="s1">&#39;xz&#39;</span>
<span class="n">plot_vista_reg</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">14.9</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">plot_vista_reg</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="n">plot_vista_reg</span><span class="o">.</span><span class="n">pixels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">3000</span><span class="p">)</span>
<span class="n">plot_vista_reg</span><span class="o">.</span><span class="n">color_by</span> <span class="o">=</span> <span class="s1">&#39;material&#39;</span>
<span class="n">plot_vista_reg</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">folder_path</span><span class="o">+</span><span class="s1">&#39;view_reg&#39;</span>
<span class="n">plot_vista_reg</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">Water</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">204</span><span class="p">),</span>
    <span class="n">CladdingSS</span><span class="p">:</span> <span class="p">(</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">),</span>
    <span class="n">CladdingCR</span><span class="p">:</span> <span class="p">(</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">196</span><span class="p">),</span>
    <span class="n">CladdingAl</span><span class="p">:</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">),</span>
    <span class="n">Fuel101</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">),</span>
    <span class="n">Fuel103</span><span class="p">:</span> <span class="p">(</span><span class="mi">155</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
    <span class="n">Graphite</span><span class="p">:</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">110</span><span class="p">),</span>
    <span class="n">Vacuum</span><span class="p">:</span> <span class="p">(</span><span class="mi">249</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">227</span><span class="p">),</span>
    <span class="n">ControlRodB4C</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">ControlRodBorated</span><span class="p">:</span> <span class="p">(</span><span class="mi">152</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">),</span>
    <span class="n">Samarium</span><span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">51</span><span class="p">),</span>
    <span class="n">Zirconium</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">76</span><span class="p">),</span>

<span class="p">}</span>


<span class="n">plot_vista_trans</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plot</span><span class="p">()</span>
<span class="n">plot_vista_trans</span><span class="o">.</span><span class="n">basis</span> <span class="o">=</span> <span class="s1">&#39;xz&#39;</span>
<span class="n">plot_vista_trans</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">11.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">plot_vista_trans</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="n">plot_vista_trans</span><span class="o">.</span><span class="n">pixels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="n">plot_vista_trans</span><span class="o">.</span><span class="n">color_by</span> <span class="o">=</span> <span class="s1">&#39;material&#39;</span>
<span class="n">plot_vista_trans</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">folder_path</span><span class="o">+</span><span class="s1">&#39;view_trans&#39;</span>
<span class="n">plot_vista_trans</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="n">colors</span>



<span class="n">plots</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plots</span><span class="p">()</span>
<span class="n">plots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plot_xy1</span><span class="p">)</span>
<span class="n">plots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plot_xy2</span><span class="p">)</span>
<span class="n">plots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plot_xy3</span><span class="p">)</span>
<span class="n">plots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plot_xy4</span><span class="p">)</span>
<span class="n">plots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plot_xy5</span><span class="p">)</span>
<span class="n">plots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plot_xy6</span><span class="p">)</span>
<span class="n">plots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plot_vista_reg</span><span class="p">)</span>
<span class="n">plots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plot_vista_shim</span><span class="p">)</span>
<span class="n">plots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">plot_vista_trans</span><span class="p">)</span>
<br/><br/></pre></div>
</div>
</div>
</section>
<section id="Settings">
<h2>Settings<a class="headerlink" href="#Settings" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># OpenMC simulation parameters</span>

<span class="n">entropy_calc</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">resonance_calc</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">uniform_source</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">batches</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">inactive</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">particles</span> <span class="o">=</span> <span class="mi">120000</span>

<span class="n">settings_file</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Settings</span><span class="p">()</span>
<span class="n">settings_file</span><span class="o">.</span><span class="n">batches</span> <span class="o">=</span> <span class="n">batches</span>
<span class="n">settings_file</span><span class="o">.</span><span class="n">inactive</span> <span class="o">=</span> <span class="n">inactive</span>
<span class="n">settings_file</span><span class="o">.</span><span class="n">particles</span> <span class="o">=</span> <span class="n">particles</span>

<span class="c1"># uniform initial source</span>
<span class="k">if</span> <span class="n">uniform_source</span><span class="p">:</span>
    <span class="n">bounds</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">25</span><span class="p">,</span> <span class="o">-</span><span class="mi">25</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
    <span class="n">uniform_dist</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">bounds</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">:],</span> <span class="n">only_fissionable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">settings_file</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="n">space</span><span class="o">=</span><span class="n">uniform_dist</span><span class="p">)</span>

<span class="k">if</span> <span class="n">resonance_calc</span><span class="p">:</span>
    <span class="n">settings_file</span><span class="o">.</span><span class="n">resonance_scattering</span><span class="p">[</span><span class="s1">&#39;enable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">if</span> <span class="n">entropy_calc</span><span class="p">:</span>
    <span class="n">entropy_mesh</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Mesh</span><span class="p">()</span>
    <span class="n">entropy_mesh</span><span class="o">.</span><span class="n">lower_left</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">60</span><span class="p">,</span> <span class="o">-</span><span class="mi">60</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">entropy_mesh</span><span class="o">.</span><span class="n">upper_right</span> <span class="o">=</span> <span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>

    <span class="n">entropy_mesh</span><span class="o">.</span><span class="n">dimension</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">settings_file</span><span class="o">.</span><span class="n">entropy_mesh</span> <span class="o">=</span> <span class="n">entropy_mesh</span>

<span class="n">settings_file</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;method&#39;</span><span class="p">:</span><span class="s1">&#39;interpolation&#39;</span><span class="p">}</span>
<br/></pre></div>
</div>
</div>
</section>
<section id="Tallies">
<h2>Tallies<a class="headerlink" href="#Tallies" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Measuring quantities during simulation</span>
<span class="n">tallies_file</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Tallies</span><span class="p">()</span>

<span class="c1">### Neutron energy flux</span>
<span class="n">energies</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mf">1e-5</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mf">20.0e6</span><span class="p">),</span> <span class="mi">101</span><span class="p">)</span>
<span class="n">e_filter</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">EnergyFilter</span><span class="p">(</span><span class="n">energies</span><span class="p">)</span>

<span class="n">EnergySpectrum</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Tally</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Phi(E)&quot;</span><span class="p">)</span>
<span class="n">EnergySpectrum</span><span class="o">.</span><span class="n">filters</span> <span class="o">=</span> <span class="p">[</span><span class="n">e_filter</span><span class="p">]</span>
<span class="n">EnergySpectrum</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;flux&#39;</span><span class="p">]</span>


<span class="c1">### Spatial flux</span>
<span class="n">mesh3D</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">RegularMesh</span><span class="p">()</span>
<span class="n">mesh3D</span><span class="o">.</span><span class="n">dimension</span> <span class="o">=</span> <span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">mesh3D</span><span class="o">.</span><span class="n">lower_left</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">55</span><span class="p">,</span> <span class="o">-</span><span class="mi">55</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
<span class="n">mesh3D</span><span class="o">.</span><span class="n">upper_right</span> <span class="o">=</span> <span class="p">(</span><span class="mi">55</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="n">mesh3D_filter</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">MeshFilter</span><span class="p">(</span><span class="n">mesh3D</span><span class="p">)</span>

<span class="n">SpatialFlux</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Tally</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Phi(r)&quot;</span><span class="p">)</span>
<span class="n">SpatialFlux</span><span class="o">.</span><span class="n">filters</span> <span class="o">=</span> <span class="p">[</span><span class="n">mesh3D_filter</span><span class="p">]</span>
<span class="n">SpatialFlux</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;flux&#39;</span><span class="p">]</span>


<span class="c1">### Deposited energy (for normalization)</span>
<span class="n">heating</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Tally</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;factor-for-normalization&#39;</span><span class="p">)</span>
<span class="n">heating</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;heating-local&#39;</span><span class="p">]</span>

<span class="n">tallies_file</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">EnergySpectrum</span><span class="p">)</span>
<span class="n">tallies_file</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SpatialFlux</span><span class="p">)</span>
<span class="n">tallies_file</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">heating</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Export to XML</span>
<span class="n">materials_file</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">()</span>
<span class="n">geometry</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">()</span>
<span class="n">plots</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">()</span>
<span class="n">settings_file</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">()</span>
<span class="n">tallies_file</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">()</span>

<span class="n">openmc</span><span class="o">.</span><span class="n">plot_geometry</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                                %%%%%%%%%%%%%%%
                           %%%%%%%%%%%%%%%%%%%%%%%%
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                      %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                                    %%%%%%%%%%%%%%%%%%%%%%%%
                                     %%%%%%%%%%%%%%%%%%%%%%%%
                 ###############      %%%%%%%%%%%%%%%%%%%%%%%%
                ##################     %%%%%%%%%%%%%%%%%%%%%%%
                ###################     %%%%%%%%%%%%%%%%%%%%%%%
                ####################     %%%%%%%%%%%%%%%%%%%%%%
                #####################     %%%%%%%%%%%%%%%%%%%%%
                ######################     %%%%%%%%%%%%%%%%%%%%
                #######################     %%%%%%%%%%%%%%%%%%
                 #######################     %%%%%%%%%%%%%%%%%
                 ######################     %%%%%%%%%%%%%%%%%
                  ####################     %%%%%%%%%%%%%%%%%
                    #################     %%%%%%%%%%%%%%%%%
                     ###############     %%%%%%%%%%%%%%%%
                       ############     %%%%%%%%%%%%%%%
                          ########     %%%%%%%%%%%%%%
                                      %%%%%%%%%%%

                 | The OpenMC Monte Carlo Code
       Copyright | 2011-2023 MIT, UChicago Argonne LLC, and contributors
         License | https://docs.openmc.org/en/latest/license.html
         Version | 0.13.3
        Git SHA1 | 50e39a4e20dc9e0f3d7ccf07333f6a5e6c797c8c
       Date/Time | 2023-12-11 09:42:19
  OpenMP Threads | 16

 Reading settings XML file...
 Reading cross sections XML file...
 Reading materials XML file...
 Reading geometry XML file...
 Reading tallies XML file...
 Preparing distributed cell instances...
 Reading plot XML file...

 =======================&gt;     PLOTTING SUMMARY     &lt;========================

Plot ID: 10
Plot file: ./pictures/geometry/view_xy1.png
Universe depth: -1
Plot Type: Slice
Origin: 0 0 16.15
Width:  110  110
Coloring: Materials
Basis: XY
Pixels: 2000 2000

Plot ID: 11
Plot file: ./pictures/geometry/view_xy2.png
Universe depth: -1
Plot Type: Slice
Origin: 0 0 19.15
Width:  110  110
Coloring: Materials
Basis: XY
Pixels: 2000 2000

Plot ID: 12
Plot file: ./pictures/geometry/view_xy3.png
Universe depth: -1
Plot Type: Slice
Origin: 0 0 23.15
Width:  110  110
Coloring: Materials
Basis: XY
Pixels: 2000 2000

Plot ID: 13
Plot file: ./pictures/geometry/view_xy4.png
Universe depth: -1
Plot Type: Slice
Origin: 0 0 25.15
Width:  110  110
Coloring: Materials
Basis: XY
Pixels: 2000 2000

Plot ID: 14
Plot file: ./pictures/geometry/view_xy5.png
Universe depth: -1
Plot Type: Slice
Origin: 0 0 27.15
Width:  110  110
Coloring: Materials
Basis: XY
Pixels: 2000 2000

Plot ID: 15
Plot file: ./pictures/geometry/view_xy6.png
Universe depth: -1
Plot Type: Slice
Origin: 0 0 30.15
Width:  110  110
Coloring: Materials
Basis: XY
Pixels: 2000 2000

Plot ID: 17
Plot file: ./pictures/geometry/view_reg.png
Universe depth: -1
Plot Type: Slice
Origin: 0 14.9 0
Width:  110  150
Coloring: Materials
Basis: XZ
Pixels: 3000 3000

Plot ID: 16
Plot file: ./pictures/geometry/view_shim.png
Universe depth: -1
Plot Type: Slice
Origin: 0 0 0
Width:  110  230
Coloring: Materials
Basis: XZ
Pixels: 2000 2000

Plot ID: 18
Plot file: ./pictures/geometry/view_trans.png
Universe depth: -1
Plot Type: Slice
Origin: 0 -11.5 0
Width:  110  150
Coloring: Materials
Basis: XZ
Pixels: 2000 2000

 Processing plot 10: ./pictures/geometry/view_xy1.png...
 Processing plot 11: ./pictures/geometry/view_xy2.png...
 Processing plot 12: ./pictures/geometry/view_xy3.png...
 Processing plot 13: ./pictures/geometry/view_xy4.png...
 Processing plot 14: ./pictures/geometry/view_xy5.png...
 Processing plot 15: ./pictures/geometry/view_xy6.png...
 Processing plot 17: ./pictures/geometry/view_reg.png...
 Processing plot 16: ./pictures/geometry/view_shim.png...
 Processing plot 18: ./pictures/geometry/view_trans.png...
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">openmc</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                                %%%%%%%%%%%%%%%
                           %%%%%%%%%%%%%%%%%%%%%%%%
                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                      %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                                    %%%%%%%%%%%%%%%%%%%%%%%%
                                     %%%%%%%%%%%%%%%%%%%%%%%%
                 ###############      %%%%%%%%%%%%%%%%%%%%%%%%
                ##################     %%%%%%%%%%%%%%%%%%%%%%%
                ###################     %%%%%%%%%%%%%%%%%%%%%%%
                ####################     %%%%%%%%%%%%%%%%%%%%%%
                #####################     %%%%%%%%%%%%%%%%%%%%%
                ######################     %%%%%%%%%%%%%%%%%%%%
                #######################     %%%%%%%%%%%%%%%%%%
                 #######################     %%%%%%%%%%%%%%%%%
                 ######################     %%%%%%%%%%%%%%%%%
                  ####################     %%%%%%%%%%%%%%%%%
                    #################     %%%%%%%%%%%%%%%%%
                     ###############     %%%%%%%%%%%%%%%%
                       ############     %%%%%%%%%%%%%%%
                          ########     %%%%%%%%%%%%%%
                                      %%%%%%%%%%%

                 | The OpenMC Monte Carlo Code
       Copyright | 2011-2023 MIT, UChicago Argonne LLC, and contributors
         License | https://docs.openmc.org/en/latest/license.html
         Version | 0.13.3
        Git SHA1 | 50e39a4e20dc9e0f3d7ccf07333f6a5e6c797c8c
       Date/Time | 2023-12-11 09:42:23
  OpenMP Threads | 16

 Reading settings XML file...
 Reading cross sections XML file...
 Reading materials XML file...
 Reading geometry XML file...
 Reading H1 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/H1.h5
 Reading O16 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/O16.h5
 Reading U235 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/U235.h5
 Reading U238 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/U238.h5
 Reading Zr90 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Zr90.h5
 Reading Zr91 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Zr91.h5
 Reading Zr92 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Zr92.h5
 Reading Zr94 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Zr94.h5
 Reading Zr96 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Zr96.h5
 Reading C0 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/C0.h5
 Reading Fe54 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Fe54.h5
 Reading Fe56 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Fe56.h5
 Reading Fe57 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Fe57.h5
 Reading Fe58 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Fe58.h5
 Reading Ti46 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Ti46.h5
 Reading Ti47 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Ti47.h5
 Reading Ti48 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Ti48.h5
 Reading Ti49 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Ti49.h5
 Reading Ti50 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Ti50.h5
 Reading Na23 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Na23.h5
 Reading Mg24 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Mg24.h5
 Reading Mg25 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Mg25.h5
 Reading Mg26 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Mg26.h5
 Reading Cu63 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Cu63.h5
 Reading Cu65 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Cu65.h5
 Reading Co59 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Co59.h5
 Reading F19 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/F19.h5
 Reading Cl35 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Cl35.h5
 Reading Cl37 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Cl37.h5
 Reading B11 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/B11.h5
 Reading Al27 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Al27.h5
 Reading Cr50 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Cr50.h5
 Reading Cr52 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Cr52.h5
 Reading Cr53 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Cr53.h5
 Reading Cr54 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Cr54.h5
 Reading Ni58 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Ni58.h5
 Reading Ni60 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Ni60.h5
 Reading Ni61 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Ni61.h5
 Reading Ni62 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Ni62.h5
 Reading Ni64 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Ni64.h5
 Reading Si28 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Si28.h5
 Reading Si29 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Si29.h5
 Reading Si30 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Si30.h5
 Reading Sm147 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Sm147.h5
 Reading Sm148 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Sm148.h5
 Reading Sm149 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Sm149.h5
 Reading Sm150 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Sm150.h5
 Reading Sm152 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Sm152.h5
 Reading Sm154 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/Sm154.h5
 Reading N14 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/N14.h5
 Reading B10 from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/B10.h5
 Reading c_H_in_H2O from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/c_H_in_H2O.h5
 Reading c_H_in_ZrH from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/c_H_in_ZrH.h5
 Reading c_Graphite from /home/renato/Desktop/xsdata/jeff-3.3-hdf5/c_Graphite.h5
 Minimum neutron data temperature: 294 K
 Maximum neutron data temperature: 600 K
 Reading tallies XML file...
 Preparing distributed cell instances...
 Reading plot XML file...
 Writing summary.h5 file...
 Maximum neutron transport energy: 20000000 eV for H1
 Initializing source particles...

 ====================&gt;     K EIGENVALUE SIMULATION     &lt;====================

  Bat./Gen.      k            Average k
  =========   ========   ====================
        1/1    0.96777
        2/1    0.99735
        3/1    1.01779
        4/1    1.02098
        5/1    1.02791
        6/1    1.02535
        7/1    1.02188
        8/1    1.02741
        9/1    1.02825
       10/1    1.02687
       11/1    1.02747
       12/1    1.02886
       13/1    1.02378
       14/1    1.02980
       15/1    1.02129
       16/1    1.02872
       17/1    1.01724
       18/1    1.02503
       19/1    1.02808
       20/1    1.02649
       21/1    1.02790
       22/1    1.02462
       23/1    1.03007
       24/1    1.02630
       25/1    1.03602
       26/1    1.03232
       27/1    1.03419
       28/1    1.02863
       29/1    1.03608
       30/1    1.03671
       31/1    1.02895
       32/1    1.02679
       33/1    1.02520
       34/1    1.02888
       35/1    1.02115
       36/1    1.02557
       37/1    1.02739
       38/1    1.03153
       39/1    1.03169
       40/1    1.02154
       41/1    1.02864
       42/1    1.01558
       43/1    1.02338
       44/1    1.03512
       45/1    1.02219
       46/1    1.02973
       47/1    1.02542
       48/1    1.02512
       49/1    1.02554
       50/1    1.02434
       51/1    1.02598
       52/1    1.02526
       53/1    1.02726
       54/1    1.03077
       55/1    1.02740
       56/1    1.02722
       57/1    1.02044
       58/1    1.02819
       59/1    1.02586
       60/1    1.02692
       61/1    1.02717
       62/1    1.02398
       63/1    1.03785
       64/1    1.02292
       65/1    1.03237
       66/1    1.02918
       67/1    1.02670
       68/1    1.02403
       69/1    1.02853
       70/1    1.03072
       71/1    1.02784
       72/1    1.02805
       73/1    1.02934
       74/1    1.02622
       75/1    1.02831
       76/1    1.02457
       77/1    1.02691
       78/1    1.02340
       79/1    1.02778
       80/1    1.03008
       81/1    1.02228
       82/1    1.02696
       83/1    1.03082
       84/1    1.02785
       85/1    1.02401
       86/1    1.02613
       87/1    1.02884
       88/1    1.02725
       89/1    1.02918
       90/1    1.03261
       91/1    1.02530
       92/1    1.02692
       93/1    1.02298
       94/1    1.03199
       95/1    1.03596
       96/1    1.02777
       97/1    1.02984
       98/1    1.02997
       99/1    1.03250
      100/1    1.02953
      101/1    1.02610
      102/1    1.03681    1.03145 +/- 0.00535
      103/1    1.03117    1.03136 +/- 0.00309
      104/1    1.02337    1.02936 +/- 0.00296
      105/1    1.02411    1.02831 +/- 0.00252
      106/1    1.02606    1.02793 +/- 0.00209
      107/1    1.03160    1.02846 +/- 0.00185
      108/1    1.02655    1.02822 +/- 0.00162
      109/1    1.02276    1.02761 +/- 0.00155
      110/1    1.03534    1.02839 +/- 0.00159
      111/1    1.02676    1.02824 +/- 0.00144
      112/1    1.02659    1.02810 +/- 0.00132
      113/1    1.02883    1.02816 +/- 0.00122
      114/1    1.02528    1.02795 +/- 0.00115
      115/1    1.02763    1.02793 +/- 0.00107
      116/1    1.03310    1.02825 +/- 0.00105
      117/1    1.03003    1.02836 +/- 0.00099
      118/1    1.02453    1.02814 +/- 0.00096
      119/1    1.03310    1.02841 +/- 0.00094
      120/1    1.02153    1.02806 +/- 0.00096
      121/1    1.02131    1.02774 +/- 0.00097
      122/1    1.02138    1.02745 +/- 0.00097
      123/1    1.02062    1.02715 +/- 0.00097
      124/1    1.03122    1.02732 +/- 0.00094
      125/1    1.02475    1.02722 +/- 0.00091
      126/1    1.02481    1.02713 +/- 0.00088
      127/1    1.03239    1.02732 +/- 0.00087
      128/1    1.02615    1.02728 +/- 0.00084
      129/1    1.02679    1.02726 +/- 0.00081
      130/1    1.02996    1.02735 +/- 0.00079
      131/1    1.02592    1.02731 +/- 0.00076
      132/1    1.02891    1.02736 +/- 0.00074
      133/1    1.02751    1.02736 +/- 0.00072
      134/1    1.02770    1.02737 +/- 0.00070
      135/1    1.02672    1.02735 +/- 0.00068
      136/1    1.02679    1.02734 +/- 0.00066
      137/1    1.03125    1.02744 +/- 0.00065
      138/1    1.02852    1.02747 +/- 0.00063
      139/1    1.01927    1.02726 +/- 0.00065
      140/1    1.03625    1.02749 +/- 0.00067
      141/1    1.02551    1.02744 +/- 0.00066
      142/1    1.02082    1.02728 +/- 0.00066
      143/1    1.02432    1.02721 +/- 0.00065
      144/1    1.02108    1.02707 +/- 0.00065
      145/1    1.03263    1.02720 +/- 0.00065
      146/1    1.02775    1.02721 +/- 0.00063
      147/1    1.03407    1.02735 +/- 0.00064
      148/1    1.02499    1.02730 +/- 0.00062
      149/1    1.02544    1.02727 +/- 0.00061
      150/1    1.02688    1.02726 +/- 0.00060
      151/1    1.02076    1.02713 +/- 0.00060
      152/1    1.02576    1.02711 +/- 0.00059
      153/1    1.01730    1.02692 +/- 0.00061
      154/1    1.03201    1.02701 +/- 0.00060
      155/1    1.02645    1.02700 +/- 0.00059
      156/1    1.03299    1.02711 +/- 0.00059
      157/1    1.02905    1.02714 +/- 0.00058
      158/1    1.02989    1.02719 +/- 0.00057
      159/1    1.03029    1.02724 +/- 0.00057
      160/1    1.02166    1.02715 +/- 0.00057
      161/1    1.02767    1.02716 +/- 0.00056
      162/1    1.02701    1.02716 +/- 0.00055
      163/1    1.03071    1.02721 +/- 0.00054
      164/1    1.03338    1.02731 +/- 0.00054
      165/1    1.03491    1.02743 +/- 0.00055
      166/1    1.02669    1.02742 +/- 0.00054
      167/1    1.02803    1.02743 +/- 0.00053
      168/1    1.02544    1.02740 +/- 0.00052
      169/1    1.02533    1.02737 +/- 0.00052
      170/1    1.02373    1.02731 +/- 0.00051
      171/1    1.02804    1.02732 +/- 0.00050
      172/1    1.01677    1.02718 +/- 0.00052
      173/1    1.03065    1.02723 +/- 0.00051
      174/1    1.02981    1.02726 +/- 0.00051
      175/1    1.03072    1.02731 +/- 0.00050
      176/1    1.02618    1.02729 +/- 0.00050
      177/1    1.03149    1.02735 +/- 0.00049
      178/1    1.02972    1.02738 +/- 0.00049
      179/1    1.02105    1.02730 +/- 0.00049
      180/1    1.02514    1.02727 +/- 0.00048
      181/1    1.03802    1.02740 +/- 0.00049
      182/1    1.02964    1.02743 +/- 0.00049
      183/1    1.02638    1.02742 +/- 0.00048
      184/1    1.02662    1.02741 +/- 0.00048
      185/1    1.02524    1.02738 +/- 0.00047
      186/1    1.02059    1.02730 +/- 0.00047
      187/1    1.02898    1.02732 +/- 0.00047
      188/1    1.02537    1.02730 +/- 0.00046
      189/1    1.02540    1.02728 +/- 0.00046
      190/1    1.02328    1.02723 +/- 0.00046
      191/1    1.02232    1.02718 +/- 0.00045
      192/1    1.03147    1.02723 +/- 0.00045
      193/1    1.02436    1.02720 +/- 0.00045
      194/1    1.02453    1.02717 +/- 0.00044
      195/1    1.02902    1.02719 +/- 0.00044
      196/1    1.02302    1.02714 +/- 0.00044
      197/1    1.02436    1.02712 +/- 0.00043
      198/1    1.02165    1.02706 +/- 0.00043
      199/1    1.02619    1.02705 +/- 0.00043
      200/1    1.02406    1.02702 +/- 0.00043
      201/1    1.02100    1.02696 +/- 0.00043
      202/1    1.02359    1.02693 +/- 0.00042
      203/1    1.02760    1.02693 +/- 0.00042
      204/1    1.02722    1.02694 +/- 0.00041
      205/1    1.03250    1.02699 +/- 0.00041
      206/1    1.02241    1.02695 +/- 0.00041
      207/1    1.02682    1.02695 +/- 0.00041
      208/1    1.03065    1.02698 +/- 0.00041
      209/1    1.02462    1.02696 +/- 0.00040
      210/1    1.02561    1.02695 +/- 0.00040
      211/1    1.02837    1.02696 +/- 0.00040
      212/1    1.02689    1.02696 +/- 0.00039
      213/1    1.03487    1.02703 +/- 0.00040
      214/1    1.02529    1.02701 +/- 0.00039
      215/1    1.02410    1.02699 +/- 0.00039
      216/1    1.02708    1.02699 +/- 0.00039
      217/1    1.02235    1.02695 +/- 0.00038
      218/1    1.02515    1.02693 +/- 0.00038
      219/1    1.02664    1.02693 +/- 0.00038
      220/1    1.02326    1.02690 +/- 0.00038
      221/1    1.02513    1.02689 +/- 0.00037
      222/1    1.02468    1.02687 +/- 0.00037
      223/1    1.02577    1.02686 +/- 0.00037
      224/1    1.03120    1.02689 +/- 0.00037
      225/1    1.01948    1.02683 +/- 0.00037
      226/1    1.03144    1.02687 +/- 0.00037
      227/1    1.02476    1.02685 +/- 0.00037
      228/1    1.02805    1.02686 +/- 0.00036
      229/1    1.02893    1.02688 +/- 0.00036
      230/1    1.02462    1.02686 +/- 0.00036
      231/1    1.02394    1.02684 +/- 0.00036
      232/1    1.02065    1.02679 +/- 0.00036
      233/1    1.02684    1.02679 +/- 0.00035
      234/1    1.02661    1.02679 +/- 0.00035
      235/1    1.03140    1.02683 +/- 0.00035
      236/1    1.02658    1.02682 +/- 0.00035
      237/1    1.02044    1.02678 +/- 0.00035
      238/1    1.02493    1.02676 +/- 0.00035
      239/1    1.02685    1.02677 +/- 0.00034
      240/1    1.02868    1.02678 +/- 0.00034
      241/1    1.02988    1.02680 +/- 0.00034
      242/1    1.01644    1.02673 +/- 0.00034
      243/1    1.02573    1.02672 +/- 0.00034
      244/1    1.02592    1.02672 +/- 0.00034
      245/1    1.03339    1.02676 +/- 0.00034
      246/1    1.02469    1.02675 +/- 0.00034
      247/1    1.02459    1.02673 +/- 0.00034
      248/1    1.02925    1.02675 +/- 0.00033
      249/1    1.02403    1.02673 +/- 0.00033
      250/1    1.03013    1.02675 +/- 0.00033
      251/1    1.02203    1.02672 +/- 0.00033
      252/1    1.02794    1.02673 +/- 0.00033
      253/1    1.02799    1.02674 +/- 0.00033
      254/1    1.02791    1.02675 +/- 0.00032
      255/1    1.03370    1.02679 +/- 0.00033
      256/1    1.01831    1.02674 +/- 0.00033
      257/1    1.03075    1.02676 +/- 0.00033
      258/1    1.02733    1.02677 +/- 0.00032
      259/1    1.02347    1.02675 +/- 0.00032
      260/1    1.02169    1.02671 +/- 0.00032
      261/1    1.02858    1.02673 +/- 0.00032
      262/1    1.02725    1.02673 +/- 0.00032
      263/1    1.02762    1.02673 +/- 0.00032
      264/1    1.02390    1.02672 +/- 0.00032
      265/1    1.02794    1.02672 +/- 0.00031
      266/1    1.01782    1.02667 +/- 0.00032
      267/1    1.02576    1.02667 +/- 0.00031
      268/1    1.02614    1.02666 +/- 0.00031
      269/1    1.02912    1.02668 +/- 0.00031
      270/1    1.02348    1.02666 +/- 0.00031
      271/1    1.02954    1.02667 +/- 0.00031
      272/1    1.02743    1.02668 +/- 0.00031
      273/1    1.02227    1.02665 +/- 0.00031
      274/1    1.02673    1.02665 +/- 0.00030
      275/1    1.02707    1.02666 +/- 0.00030
      276/1    1.02359    1.02664 +/- 0.00030
      277/1    1.02918    1.02665 +/- 0.00030
      278/1    1.03028    1.02667 +/- 0.00030
      279/1    1.03577    1.02672 +/- 0.00030
      280/1    1.03646    1.02678 +/- 0.00031
      281/1    1.03296    1.02681 +/- 0.00031
      282/1    1.02302    1.02679 +/- 0.00030
      283/1    1.02979    1.02681 +/- 0.00030
      284/1    1.03217    1.02684 +/- 0.00030
      285/1    1.02901    1.02685 +/- 0.00030
      286/1    1.02483    1.02684 +/- 0.00030
      287/1    1.02961    1.02685 +/- 0.00030
      288/1    1.02835    1.02686 +/- 0.00030
      289/1    1.02680    1.02686 +/- 0.00030
      290/1    1.02673    1.02686 +/- 0.00029
      291/1    1.01969    1.02682 +/- 0.00029
      292/1    1.02122    1.02679 +/- 0.00029
      293/1    1.02975    1.02681 +/- 0.00029
      294/1    1.02754    1.02681 +/- 0.00029
      295/1    1.02851    1.02682 +/- 0.00029
      296/1    1.02779    1.02683 +/- 0.00029
      297/1    1.02658    1.02682 +/- 0.00029
      298/1    1.02947    1.02684 +/- 0.00029
      299/1    1.02843    1.02685 +/- 0.00029
      300/1    1.02923    1.02686 +/- 0.00028
 Creating state point statepoint.300.h5...

 =======================&gt;     TIMING STATISTICS     &lt;=======================

 Total time for initialization     = 5.4904e+00 seconds
   Reading cross sections          = 5.3396e+00 seconds
 Total time in simulation          = 5.7751e+02 seconds
   Time in transport only          = 5.6785e+02 seconds
   Time in inactive batches        = 1.3790e+02 seconds
   Time in active batches          = 4.3961e+02 seconds
   Time synchronizing fission bank = 7.4705e+00 seconds
     Sampling source sites         = 7.0682e+00 seconds
     SEND/RECV source sites        = 4.0202e-01 seconds
   Time accumulating tallies       = 4.4668e-01 seconds
   Time writing statepoints        = 2.9013e-02 seconds
 Total time for finalization       = 4.7723e-01 seconds
 Total time elapsed                = 5.8362e+02 seconds
 Calculation Rate (inactive)       = 87020.5 particles/second
 Calculation Rate (active)         = 54593.9 particles/second

 ============================&gt;     RESULTS     &lt;============================

 k-effective (Collision)     = 1.02699 +/- 0.00028
 k-effective (Track-length)  = 1.02686 +/- 0.00028
 k-effective (Absorption)    = 1.02758 +/- 0.00024
 Combined k-effective        = 1.02733 +/- 0.00021
 Leakage Fraction            = 0.10106 +/- 0.00006

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;mv statepoint.300.h5 ./h5_files/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">z0_reg</span><span class="o">-</span><span class="n">offset</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;_&quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">z0_shim</span><span class="o">-</span><span class="n">offset</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">z0_trans</span><span class="o">-</span><span class="n">offset</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;.h5&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0
</pre></div></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../fenicsx/neutronics/04_ANL14A1_MPtrans.html" class="btn btn-neutral float-left" title="ANL14-A1: LRA benchmark (2D BWR) - MP coupling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../ofelia/pin3D_PWR_steady/pin3D.html" class="btn btn-neutral float-right" title="PWR Pin 2D Axial Symmetry - Solution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Lorenzo Loi &amp; Stefano Riva, Carolina Introini, Antonio Cammi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>